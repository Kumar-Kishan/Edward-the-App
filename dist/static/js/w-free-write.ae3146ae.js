(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["w-free-write"],{"1a19":function(t,i,e){},"30e1":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"workshop-wrap"},[e("div",{staticClass:"workshop"},[e("h1",[t._v("Free Write")]),e("p",{staticClass:"intro"},[t._v("\n      Write whatever comes to mind. Don't worry about style, grammar, or making sense.\n    ")]),t.begun?t._e():e("p",{staticClass:"intro"},[t._v("If you'd like, you can set a time or word limit:")]),e("transition",{attrs:{name:"shrink"}},[t.finished?t._e():e("div",{staticClass:"timer-wrap"},[e("timer",{attrs:{"full-text":t.fullText},on:{begin:function(i){t.begin()}}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.begun,expression:"begun"}],staticClass:"content"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.begun&&!t.finished?e("div",{key:"editor",staticClass:"content-inner"},[e("div",{staticClass:"editor"},[e("quill-editor",{ref:"quillEditor",attrs:{content:t.content},on:{"update:content":function(i){t.updateContent(i)}}})],1),e("div",{staticClass:"done"},[e("button",{staticClass:"button-green",on:{click:function(i){t.finish()}}},[t._v("Done")])])]):t.finished?e("div",{key:"done",staticClass:"content-inner"},[e("p",{staticClass:"finished"},[this.fullText.trim()?[e("strong",[t._v("Saved!")]),t._v(" You can view this free write in the Workshops column of the Write page.\n            ")]:[e("strong",[t._v("Deleted!")]),t._v(" This free write was empty.\n            ")]],2),e("button",{staticClass:"button-green",on:{click:function(i){t.reset()}}},[t._v("Start over")])]):t._e()])],1)],1)])},s=[],o=(e("7f7f"),e("7514"),e("6762"),e("2fdb"),e("e935")),r=e("7f24"),a=e("7d4e"),l=e("bec3"),c=e("1c03"),m=e("6415"),u=e("6c59"),h=new r["b"]("FREE_WRITE_CURRENT_EXERCISE"),d={components:{QuillEditor:c["a"],Timer:m["a"]},computed:{allWorkshops:function(){return this.$store.state.workshop.workshops},content:function(){return this.workshop?this.workshop.content:null},fullText:function(){return Object(a["a"])(this.content)}},data:function(){return{begun:!1,finished:!1,workshop:null}},methods:{begin:function(t){this.workshop||(this.begun=!0,t?this.workshop=t:this.newWorkshop())},checkForDeletion:function(){this.fullText.trim()||(h.cacheDelete(),this.workshop&&this.allWorkshops.includes(this.workshop)&&this.$store.commit(o["c"],{workshop:this.workshop}))},finish:function(){this.$refs.quillEditor.disable(),h.cacheDelete(),this.finished=!0,this.checkForDeletion()},getCurrentWorkshop:function(){var t=h.cacheGet();if(!t)return null;var i=this.allWorkshops.find(function(i){return i.guid===t});return i||null},newWorkshop:function(){h.cacheDelete(),this.workshop={archived:!1,guid:Object(l["a"])(),title:"Free Write ".concat((new Date).toLocaleDateString()),order:0,workshopName:u["a"].FREE_WRITE.name,content:null,date:(new Date).toLocaleDateString("en-US")},this.$store.commit(o["a"],{workshop:this.workshop}),h.cacheSet(this.workshop.guid)},reset:function(){this.begun=!1,this.finished=!1,this.workshop=null},updateContent:function(t){var i=t.content;this.$store.commit(o["g"],{workshopUpdates:[{workshop:this.workshop,newContent:i,newTitle:"".concat(Object(a["a"])(i).slice(0,20),"...")}]})}},created:function(){var t=this.getCurrentWorkshop();t&&this.begin(t)},beforeDestroy:function(){this.checkForDeletion()}},p=d,f=(e("d74b"),e("2877")),v=Object(f["a"])(p,n,s,!1,null,"424e7c42",null);v.options.__file="freeWrite.page.vue";i["default"]=v.exports},6415:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.begun,expression:"!begun"}],staticClass:"limit"},[e("div",{staticClass:"limit-option"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.limitType,expression:"limitType"}],attrs:{type:"radio",id:"wordLimit",name:"limit",value:"word"},domProps:{checked:t._q(t.limitType,"word")},on:{change:function(i){t.limitType="word"}}}),e("label",{attrs:{for:"wordLimit"}},[t._v("Set a word limit")])]),e("div",{staticClass:"limit-option"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.limitType,expression:"limitType"}],attrs:{type:"radio",id:"timeLimit",name:"limit",value:"time"},domProps:{checked:t._q(t.limitType,"time")},on:{change:function(i){t.limitType="time"}}}),e("label",{attrs:{for:"timeLimit"}},[t._v("Set a time limit")])]),e("div",{staticClass:"limit-option"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.limitType,expression:"limitType"}],attrs:{type:"radio",id:"noLimit",name:"limit"},domProps:{value:null,checked:t._q(t.limitType,null)},on:{change:function(i){t.limitType=null}}}),e("label",{attrs:{for:"noLimit"}},[t._v("No limit")])]),t.limitType?e("div",{staticClass:"set-limit"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],attrs:{type:"number",id:"setLimit"},domProps:{value:t.limit},on:{input:function(i){i.target.composing||(t.limit=i.target.value)}}}),e("label",{staticClass:"set-limit-label",attrs:{for:"setLimit"}},[t._v(t._s(t.setLimitLabel))])]):t._e(),e("div",{staticClass:"begin"},[e("button",{staticClass:"button-green",attrs:{disabled:!t.valid},on:{click:function(i){t.begin()}}},[t._v("Begin")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.begun,expression:"begun"}],staticClass:"counter",class:{expired:t.limitReached}},["word"===t.limitType?e("div",[t._v("\n      "+t._s(t.wordCount)+" of "+t._s(t.limit)+" words written\n    ")]):"time"===t.limitType?e("div",[t._v("\n      "+t._s(t.timeDisplay)+"\n    ")]):t._e(),t.limitReached||null===t.limitType?t._e():e("div",[e("button",{staticClass:"button-link",on:{click:function(i){t.reset()}}},[t._v("Cancel")])]),t.limitReached?e("div",[e("button",{staticClass:"button-link",on:{click:function(i){t.reset()}}},[t._v("Set again")])]):t._e(),null===t.limitType?e("div",[e("button",{staticClass:"button-link",on:{click:function(i){t.reset()}}},[t._v("Set a limit")])]):t._e()])])},s=[],o=(e("c5f6"),e("4917"),{word:500,time:10}),r={computed:{secondsRemaining:function(){if("time"!==this.limitType)return 0;var t=60*this.limit;return t-this.elapsedSeconds},setLimitLabel:function(){switch(this.limitType){case"word":return"word limit";case"time":return"minute limit"}},timeDisplay:function(){if(this.secondsRemaining>30){var t=Math.ceil(this.secondsRemaining/60);return"".concat(t,t>1?" minutes left":" minute left")}return this.secondsRemaining>0?"".concat(this.secondsRemaining," seconds left"):"Timer expired"},valid:function(){return null===this.limitType||this.limit>0},wordCount:function(){return(this.fullText.match(/[^\s]+/g)||[]).length}},data:function(){return{begun:!1,elapsedSeconds:0,limit:0,limitReached:!1,limitType:null,timerInterval:null}},methods:{begin:function(){this.begun=!0,this.$emit("begin"),"time"===this.limitType&&this.startTimer()},clearTimer:function(){this.timerInterval&&clearInterval(this.timerInterval)},reset:function(){this.clearTimer(),this.begun=!1,this.limitReached=!1},startTimer:function(){var t=this,i=(new Date).getTime();this.timerInterval=setInterval(function(){var e=(new Date).getTime();t.elapsedSeconds=Math.round((e-i)/1e3)},200)}},watch:{limitType:function(t,i){if(!(Number(this.limit)>0&&Number(this.limit)!==o[i]))switch(t){case"word":return void(this.limit=500);case"time":this.limit=10}},secondsRemaining:function(t){"time"===this.limitType&&t<=0&&(this.clearTimer(),this.limitReached=!0,this.$emit("limitReached"))},wordCount:function(t){"word"===this.limitType&&(t>=this.limit?(this.limitReached=!0,this.$emit("limitReached")):!0===this.limitReached&&(this.limitReached=!1))}},props:{fullText:{required:!0,type:String}},beforeDestroy:function(){this.clearTimer()}},a=r,l=(e("fdde"),e("2877")),c=Object(l["a"])(a,n,s,!1,null,"642797c4",null);c.options.__file="timer.vue";i["a"]=c.exports},"8e92":function(t,i,e){},d74b:function(t,i,e){"use strict";var n=e("8e92"),s=e.n(n);s.a},fdde:function(t,i,e){"use strict";var n=e("1a19"),s=e.n(n);s.a}}]);
//# sourceMappingURL=w-free-write.ae3146ae.js.map