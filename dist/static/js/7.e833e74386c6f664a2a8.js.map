{"version":3,"sources":["webpack:///src/app/workshops/freeWrite.page.vue","webpack:///./src/app/workshops/freeWrite.page.vue","webpack:///./src/app/shared/timer.vue","webpack:///./src/app/shared/timer.vue?0a5d","webpack:///./src/app/workshops/freeWrite.page.vue?cfd0","webpack:///src/app/shared/timer.vue"],"names":["_workshops","__webpack_require__","_deltaParser","exerciseCache","_cache2","default","components","QuillEditor","_quillEditor2","Timer","_timer2","computed","allWorkshops","this","$store","state","workshop","workshops","content","fullText","GetContentString","data","begun","finished","methods","begin","currentWorkshop","newWorkshop","checkForDeletion","trim","cacheDelete","includes","commit","DELETE_WORKSHOP","finish","$refs","quillEditor","disable","getCurrentWorkshop","cachedGuid","cacheGet","find","guid","archived","_guid2","title","Date","toLocaleDateString","order","workshopName","_writingWorkshop2","FREE_WRITE","name","date","ADD_WORKSHOP","cacheSet","reset","updateContent","_ref","UPDATE_WORKSHOPS_CONTENT","workshopUpdates","newContent","newTitle","slice","created","beforeDestroy","_node_modules_vue_loader_lib_runtime_component_normalizer__WEBPACK_IMPORTED_MODULE_2__","__vue_styles__","context","Component","Object","_babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_freeWrite_page_vue__WEBPACK_IMPORTED_MODULE_0___default","a","_node_modules_vue_loader_lib_template_compiler_index_id_data_v_1826aa70_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_freeWrite_page_vue__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","_babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_timer_vue__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_vue_loader_lib_template_compiler_index_id_data_v_0ae82c80_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_timer_vue__WEBPACK_IMPORTED_MODULE_1__","d","staticRenderFns","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","type","id","domProps","checked","_q","limitType","on","change","$event","_v","for","input","target","composing","limit","_s","setLimitLabel","_e","disabled","valid","click","class","expired","limitReached","wordCount","timeDisplay","mode","key","ref","update:content","defaultLimit","word","time","secondsRemaining","elapsedSeconds","minutesRemaining","Math","ceil","match","length","timerInterval","$emit","startTimer","clearTimer","clearInterval","_this","startTime","getTime","setInterval","currentTime","round","watch","_limitType","oldLimitType","Number","seconds","count","props","required","String"],"mappings":"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","file":"static/js/7.e833e74386c6f664a2a8.js","sourcesContent":["<template>\r\n  <div class=\"workshop-wrap\">\r\n    <div class=\"workshop\">\r\n      <h1>Free Write</h1>\r\n      <p class=\"intro\">\r\n        Write whatever comes to mind. Don't worry about style, grammar, or making sense.\r\n      </p>\r\n      <p class=\"intro\" v-if=\"!begun\">If you'd like, you can set a time or word limit:</p>\r\n      <transition name=\"shrink\">\r\n        <div class=\"timer-wrap\" v-if=\"!finished\">\r\n          <timer @begin=\"begin()\" :fullText=\"fullText\"></timer>\r\n        </div>\r\n      </transition>\r\n      <div class=\"content\" v-show=\"begun\">\r\n        <transition name=\"fade\" mode=\"out-in\">\r\n          <div v-if=\"begun && !finished\" class=\"content-inner\" key=\"editor\">\r\n            <div class=\"editor\">\r\n              <quill-editor :content=\"content\" @update:content=\"updateContent($event)\" ref=\"quillEditor\"></quill-editor>\r\n            </div>\r\n            <div class=\"done\">\r\n              <button class=\"button-green\" @click=\"finish()\">Done</button>\r\n            </div>\r\n          </div>\r\n          <div v-else-if=\"finished\" class=\"content-inner\" key=\"done\">\r\n            <p class=\"finished\">\r\n              <template v-if=\"this.fullText.trim()\">\r\n                <strong>Saved!</strong> You can view this free write in the Workshops column of the Write page.\r\n              </template>\r\n              <template v-else>\r\n                <strong>Deleted!</strong> This free write was empty.\r\n              </template>\r\n            </p>\r\n            <button class=\"button-green\" @click=\"reset()\">Start over</button>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ADD_WORKSHOP, DELETE_WORKSHOP, UPDATE_WORKSHOPS_CONTENT } from '../shared/workshops.store'\r\nimport Cache from '../shared/cache'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport Timer from '../shared/timer.vue'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nconst exerciseCache = new Cache('FREE_WRITE_CURRENT_EXERCISE')\r\n\r\nexport default {\r\n  components: {\r\n    QuillEditor,\r\n    Timer\r\n  },\r\n  computed: {\r\n    allWorkshops () {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n    content () {\r\n      return this.workshop ? this.workshop.content : null\r\n    },\r\n    fullText () {\r\n      return GetContentString(this.content)\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      begun: false,\r\n      finished: false,\r\n      workshop: null\r\n    }\r\n  },\r\n  methods: {\r\n    begin (currentWorkshop) {\r\n      this.begun = true\r\n\r\n      if (!currentWorkshop) {\r\n        this.newWorkshop()\r\n      } else {\r\n        this.workshop = currentWorkshop\r\n      }\r\n    },\r\n    checkForDeletion () {\r\n      if (!this.fullText.trim()) {\r\n        exerciseCache.cacheDelete()\r\n        if (this.workshop && this.allWorkshops.includes(this.workshop)) {\r\n          this.$store.commit(DELETE_WORKSHOP, { workshop: this.workshop })\r\n        }\r\n      }\r\n    },\r\n    finish () {\r\n      this.$refs.quillEditor.disable()\r\n      exerciseCache.cacheDelete()\r\n      this.finished = true\r\n      this.checkForDeletion()\r\n    },\r\n    getCurrentWorkshop () {\r\n      const cachedGuid = exerciseCache.cacheGet()\r\n      if (!cachedGuid) {\r\n        return null\r\n      }\r\n\r\n      const workshop = this.allWorkshops.find(workshop => workshop.guid === cachedGuid)\r\n      return workshop || null\r\n    },\r\n    newWorkshop () {\r\n      exerciseCache.cacheDelete()\r\n      this.workshop = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title: `Free Write ${new Date().toLocaleDateString()}`,\r\n        order: 0,\r\n        workshopName: writingWorkshops.FREE_WRITE.name,\r\n        content: null,\r\n        date: new Date().toLocaleDateString('en-US')\r\n      }\r\n      this.$store.commit(ADD_WORKSHOP, { workshop: this.workshop })\r\n      exerciseCache.cacheSet(this.workshop.guid)\r\n    },\r\n    reset () {\r\n      this.begun = false\r\n      this.finished = false\r\n      this.workshop = null\r\n    },\r\n    updateContent ({ content }) {\r\n      this.$store.commit(UPDATE_WORKSHOPS_CONTENT, {\r\n        workshopUpdates: [{\r\n          workshop: this.workshop,\r\n          newContent: content,\r\n          newTitle: `${GetContentString(content).slice(0, 20)}...`\r\n        }]\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    const workshop = this.getCurrentWorkshop()\r\n    if (workshop) {\r\n      this.begin(workshop)\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.checkForDeletion()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.shrink-enter-active, .shrink-leave-active {\r\n  transition: max-height 200ms, opacity 200ms;\r\n}\r\n\r\n.shrink-enter, .shrink-leave-to {\r\n  opacity: 0;\r\n  max-height: 0;\r\n}\r\n\r\n.shrink-enter-to, .shrink-leave {\r\n  opacity: 1;\r\n  max-height: 300px;\r\n}\r\n\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 500ms;\r\n}\r\n\r\n.fade-enter, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave, .fade-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n.intro {\r\n  margin: 0;\r\n}\r\n\r\n.timer-wrap {\r\n  overflow: hidden;\r\n}\r\n\r\n.content {\r\n  height: 300px;\r\n  position: relative;\r\n}\r\n\r\n.content-inner {\r\n  left: 0;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n}\r\n\r\n.editor {\r\n  display: block;\r\n  height: 200px;\r\n  margin-bottom: 50px;\r\n  min-height: 200px;\r\n  transition: opacity 200ms;\r\n}\r\n\r\n.editor.saving {\r\n  opacity: 0.5;\r\n}\r\n\r\n.editor .wrap {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.finished {\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1826aa70\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./freeWrite.page.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./freeWrite.page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./freeWrite.page.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1826aa70\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./freeWrite.page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1826aa70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ae82c80\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./timer.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./timer.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ae82c80\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./timer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ae82c80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.begun),expression:\"!begun\"}],staticClass:\"limit\"},[_c('div',{staticClass:\"limit-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limitType),expression:\"limitType\"}],attrs:{\"type\":\"radio\",\"id\":\"wordLimit\",\"name\":\"limit\",\"value\":\"word\"},domProps:{\"checked\":_vm._q(_vm.limitType,\"word\")},on:{\"change\":function($event){_vm.limitType=\"word\"}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"wordLimit\"}},[_vm._v(\"Set a word limit\")])]),_vm._v(\" \"),_c('div',{staticClass:\"limit-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limitType),expression:\"limitType\"}],attrs:{\"type\":\"radio\",\"id\":\"timeLimit\",\"name\":\"limit\",\"value\":\"time\"},domProps:{\"checked\":_vm._q(_vm.limitType,\"time\")},on:{\"change\":function($event){_vm.limitType=\"time\"}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"timeLimit\"}},[_vm._v(\"Set a time limit\")])]),_vm._v(\" \"),_c('div',{staticClass:\"limit-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limitType),expression:\"limitType\"}],attrs:{\"type\":\"radio\",\"id\":\"noLimit\",\"name\":\"limit\"},domProps:{\"value\":null,\"checked\":_vm._q(_vm.limitType,null)},on:{\"change\":function($event){_vm.limitType=null}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"noLimit\"}},[_vm._v(\"No limit\")])]),_vm._v(\" \"),(_vm.limitType)?_c('div',{staticClass:\"set-limit\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limit),expression:\"limit\"}],attrs:{\"type\":\"number\",\"id\":\"setLimit\"},domProps:{\"value\":(_vm.limit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.limit=$event.target.value}}}),_vm._v(\" \"),_c('label',{staticClass:\"set-limit-label\",attrs:{\"for\":\"setLimit\"}},[_vm._v(_vm._s(_vm.setLimitLabel))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"begin\"},[_c('button',{staticClass:\"button-green\",attrs:{\"disabled\":!_vm.valid},on:{\"click\":function($event){_vm.begin()}}},[_vm._v(\"Begin\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.begun),expression:\"begun\"}],staticClass:\"counter\",class:{ 'expired': _vm.limitReached }},[(_vm.limitType === 'word')?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.wordCount)+\" of \"+_vm._s(_vm.limit)+\" words written\\n    \")]):(_vm.limitType === 'time')?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.timeDisplay)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(!_vm.limitReached && _vm.limitType !== null)?_c('div',[_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Cancel\")])]):_vm._e(),_vm._v(\" \"),(_vm.limitReached)?_c('div',[_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Set again\")])]):_vm._e(),_vm._v(\" \"),(_vm.limitType === null)?_c('div',[_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Set a limit\")])]):_vm._e()])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workshop-wrap\"},[_c('div',{staticClass:\"workshop\"},[_c('h1',[_vm._v(\"Free Write\")]),_vm._v(\" \"),_c('p',{staticClass:\"intro\"},[_vm._v(\"\\n      Write whatever comes to mind. Don't worry about style, grammar, or making sense.\\n    \")]),_vm._v(\" \"),(!_vm.begun)?_c('p',{staticClass:\"intro\"},[_vm._v(\"If you'd like, you can set a time or word limit:\")]):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"shrink\"}},[(!_vm.finished)?_c('div',{staticClass:\"timer-wrap\"},[_c('timer',{attrs:{\"fullText\":_vm.fullText},on:{\"begin\":function($event){_vm.begin()}}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.begun),expression:\"begun\"}],staticClass:\"content\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.begun && !_vm.finished)?_c('div',{key:\"editor\",staticClass:\"content-inner\"},[_c('div',{staticClass:\"editor\"},[_c('quill-editor',{ref:\"quillEditor\",attrs:{\"content\":_vm.content},on:{\"update:content\":function($event){_vm.updateContent($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"done\"},[_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.finish()}}},[_vm._v(\"Done\")])])]):(_vm.finished)?_c('div',{key:\"done\",staticClass:\"content-inner\"},[_c('p',{staticClass:\"finished\"},[(this.fullText.trim())?[_c('strong',[_vm._v(\"Saved!\")]),_vm._v(\" You can view this free write in the Workshops column of the Write page.\\n            \")]:[_c('strong',[_vm._v(\"Deleted!\")]),_vm._v(\" This free write was empty.\\n            \")]],2),_vm._v(\" \"),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Start over\")])]):_vm._e()])],1)],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-show=\"!begun\" class=\"limit\">\r\n      <div class=\"limit-option\">\r\n        <input type=\"radio\" id=\"wordLimit\" name=\"limit\" value=\"word\" v-model=\"limitType\">\r\n        <label for=\"wordLimit\">Set a word limit</label>\r\n      </div>\r\n      <div class=\"limit-option\">\r\n        <input type=\"radio\" id=\"timeLimit\" name=\"limit\" value=\"time\" v-model=\"limitType\">\r\n        <label for=\"timeLimit\">Set a time limit</label>\r\n      </div>\r\n      <div class=\"limit-option\">\r\n        <input type=\"radio\" id =\"noLimit\" name=\"limit\" :value=\"null\" v-model=\"limitType\">\r\n        <label for=\"noLimit\">No limit</label>\r\n      </div>\r\n      <div class=\"set-limit\" v-if=\"limitType\">\r\n        <input type=\"number\" id=\"setLimit\" v-model=\"limit\">\r\n        <label class=\"set-limit-label\" for=\"setLimit\">{{setLimitLabel}}</label>\r\n      </div>\r\n      <div class=\"begin\">\r\n        <button class=\"button-green\" @click=\"begin()\" :disabled=\"!valid\">Begin</button>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"begun\" class=\"counter\" :class=\"{ 'expired': limitReached }\">\r\n      <div v-if=\"limitType === 'word'\">\r\n        {{ wordCount }} of {{ limit }} words written\r\n      </div>\r\n      <div v-else-if=\"limitType === 'time'\">\r\n        {{ timeDisplay }}\r\n      </div>\r\n      <div v-if=\"!limitReached && limitType !== null\">\r\n        <button class=\"button-link\" @click=\"reset()\">Cancel</button>\r\n      </div>\r\n      <div v-if=\"limitReached\">\r\n        <button class=\"button-link\" @click=\"reset()\">Set again</button>\r\n      </div>\r\n      <div v-if=\"limitType === null\">\r\n        <button class=\"button-link\" @click=\"reset()\">Set a limit</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst defaultLimit = {\r\n  word: 500,\r\n  time: 10\r\n}\r\n\r\nexport default {\r\n  computed: {\r\n    secondsRemaining () {\r\n      if (this.limitType !== 'time') {\r\n        return 0\r\n      }\r\n\r\n      const limitSeconds = this.limit * 60\r\n      return limitSeconds - this.elapsedSeconds\r\n    },\r\n    setLimitLabel () {\r\n      switch (this.limitType) {\r\n        case 'word':\r\n          return 'word limit'\r\n        case 'time':\r\n          return 'minute limit'\r\n      }\r\n    },\r\n    timeDisplay () {\r\n      if (this.secondsRemaining > 30) {\r\n        const minutesRemaining = Math.ceil(this.secondsRemaining / 60)\r\n\r\n        if (minutesRemaining > 1) {\r\n          return `${minutesRemaining} minutes left`\r\n        } else {\r\n          return `${minutesRemaining} minute left`\r\n        }\r\n      } else if (this.secondsRemaining > 0) {\r\n        return `${this.secondsRemaining} seconds left`\r\n      } else {\r\n        return `Timer expired`\r\n      }\r\n    },\r\n    valid () {\r\n      return this.limitType === null || this.limit > 0\r\n    },\r\n    wordCount () {\r\n      return (this.fullText.match(/[^\\s]+/g) || []).length\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      begun: false,\r\n      elapsedSeconds: 0,\r\n      limit: 0,\r\n      limitReached: false,\r\n      limitType: null,\r\n      timerInterval: null\r\n    }\r\n  },\r\n  methods: {\r\n    begin () {\r\n      this.begun = true\r\n      this.$emit('begin')\r\n\r\n      if (this.limitType === 'time') {\r\n        this.startTimer()\r\n      }\r\n    },\r\n    clearTimer () {\r\n      if (this.timerInterval) {\r\n        clearInterval(this.timerInterval)\r\n      }\r\n    },\r\n    reset () {\r\n      this.clearTimer()\r\n      this.begun = false\r\n      this.limitReached = false\r\n    },\r\n    startTimer () {\r\n      const startTime = new Date().getTime()\r\n      this.timerInterval = setInterval(() => {\r\n        const currentTime = new Date().getTime()\r\n        this.elapsedSeconds = Math.round((currentTime - startTime) / 1000)\r\n      }, 200)\r\n    }\r\n  },\r\n  watch: {\r\n    limitType (limitType, oldLimitType) {\r\n      if (Number(this.limit) > 0 && Number(this.limit) !== defaultLimit[oldLimitType]) {\r\n        return\r\n      }\r\n\r\n      switch (limitType) {\r\n        case 'word':\r\n          this.limit = 500\r\n          return\r\n        case 'time':\r\n          this.limit = 10\r\n          return\r\n      }\r\n    },\r\n    secondsRemaining (seconds) {\r\n      if (this.limitType !== 'time') {\r\n        return\r\n      }\r\n\r\n      if (seconds <= 0) {\r\n        this.clearTimer()\r\n        this.limitReached = true\r\n        this.$emit('limitReached')\r\n      }\r\n    },\r\n    wordCount (count) {\r\n      if (this.limitType !== 'word') {\r\n        return\r\n      }\r\n\r\n      if (count >= this.limit) {\r\n        this.limitReached = true\r\n        this.$emit('limitReached')\r\n      } else if (this.limitReached === true) {\r\n        this.limitReached = false\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    fullText: {\r\n      required: true,\r\n      type: String\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.clearTimer()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.limit {\r\n  background-color: #FFF;\r\n  border: 1px solid rgba(13, 91, 166, 0.5);\r\n  display: inline-block;\r\n  margin: 20px 0;\r\n  min-width: 250px;\r\n  padding: 14px 12px;\r\n}\r\n\r\n.limit-option {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.set-limit-label {\r\n  margin-left: 4px;\r\n}\r\n\r\n.begin {\r\n  margin-top: 12px;\r\n}\r\n\r\n.counter {\r\n  color: rgb(1,171,109);\r\n  display: inline-block;\r\n  font-size: 24px;\r\n  margin: 20px 0;\r\n  min-width: 250px;\r\n  padding: 14px 0;\r\n  transition: color 200ms;\r\n}\r\n\r\n.counter.expired {\r\n  color: red;\r\n}\r\n\r\n.counter .button-link {\r\n  padding: 6px 0;\r\n}\r\n</style>\r\n"],"sourceRoot":""}