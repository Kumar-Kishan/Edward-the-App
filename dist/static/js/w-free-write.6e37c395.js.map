{"version":3,"sources":["webpack:///./src/app/workshops/freeWrite.page.vue?96c5","webpack:///src/app/workshops/freeWrite.page.vue","webpack:///./src/app/workshops/freeWrite.page.vue?bf27","webpack:///./src/app/workshops/freeWrite.page.vue","webpack:///./src/app/shared/timer.vue?cd0a","webpack:///src/app/shared/timer.vue","webpack:///./src/app/shared/timer.vue?fb39","webpack:///./src/app/shared/timer.vue","webpack:///./src/app/workshops/freeWrite.page.vue?9a6c","webpack:///./src/app/shared/timer.vue?94a9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","begun","_e","attrs","name","finished","full-text","fullText","on","begin","$event","directives","rawName","value","expression","mode","key","ref","content","update:content","updateContent","click","finish","trim","reset","staticRenderFns","exerciseCache","cache","freeWrite_pagevue_type_script_lang_js_","components","QuillEditor","quillEditor","Timer","timer","computed","allWorkshops","$store","state","workshop","workshops","Object","deltaParser","data","methods","currentWorkshop","newWorkshop","checkForDeletion","cacheDelete","includes","commit","workshops_store","$refs","disable","getCurrentWorkshop","cachedGuid","cacheGet","find","guid","archived","title","concat","Date","toLocaleDateString","order","workshopName","writingWorkshop_default","a","FREE_WRITE","date","cacheSet","_ref","workshopUpdates","newContent","newTitle","slice","created","beforeDestroy","workshops_freeWrite_pagevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","type","id","domProps","checked","_q","limitType","change","for","input","target","composing","limit","_s","setLimitLabel","disabled","valid","class","expired","limitReached","wordCount","timeDisplay","defaultLimit","word","time","timervue_type_script_lang_js_","secondsRemaining","limitSeconds","elapsedSeconds","minutesRemaining","Math","ceil","match","length","timerInterval","$emit","startTimer","clearTimer","clearInterval","_this","startTime","getTime","setInterval","currentTime","round","watch","_limitType","oldLimitType","Number","seconds","count","props","required","String","shared_timervue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_freeWrite_page_vue_vue_type_style_index_0_id_c4c7e872_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_freeWrite_page_vue_vue_type_style_index_0_id_c4c7e872_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_timer_vue_vue_type_style_index_0_id_642797c4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_timer_vue_vue_type_style_index_0_id_642797c4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,MAAAJ,EAAAO,GAAA,gBAAAH,EAAA,KAA0CE,YAAA,UAAoBN,EAAAO,GAAA,oGAAAP,EAAAQ,MAAsJR,EAAAS,KAAtJL,EAAA,KAAkIE,YAAA,UAAoBN,EAAAO,GAAA,sDAAAH,EAAA,cAAyFM,OAAOC,KAAA,YAAiBX,EAAAY,SAA+IZ,EAAAS,KAA/IL,EAAA,OAA4BE,YAAA,eAAyBF,EAAA,SAAcM,OAAOG,YAAAb,EAAAc,UAAyBC,IAAKC,MAAA,SAAAC,GAAyBjB,EAAAgB,aAAc,KAAAZ,EAAA,OAA2Bc,aAAaP,KAAA,OAAAQ,QAAA,SAAAC,MAAApB,EAAA,MAAAqB,WAAA,UAAkEf,YAAA,YAAwBF,EAAA,cAAmBM,OAAOC,KAAA,OAAAW,KAAA,YAA+BtB,EAAAQ,QAAAR,EAAAY,SAAAR,EAAA,OAAyCmB,IAAA,SAAAjB,YAAA,kBAAyCF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,gBAAqBoB,IAAA,cAAAd,OAAyBe,QAAAzB,EAAAyB,SAAsBV,IAAKW,iBAAA,SAAAT,GAAkCjB,EAAA2B,cAAAV,QAA4B,GAAAb,EAAA,OAAgBE,YAAA,SAAmBF,EAAA,UAAeE,YAAA,eAAAS,IAA+Ba,MAAA,SAAAX,GAAyBjB,EAAA6B,aAAe7B,EAAAO,GAAA,cAAAP,EAAA,SAAAI,EAAA,OAAgDmB,IAAA,OAAAjB,YAAA,kBAAuCF,EAAA,KAAUE,YAAA,aAAuBL,KAAAa,SAAAgB,QAAA1B,EAAA,UAAAJ,EAAAO,GAAA,YAAAP,EAAAO,GAAA,4FAAAH,EAAA,UAAAJ,EAAAO,GAAA,cAAAP,EAAAO,GAAA,kDAAAH,EAAA,UAAqQE,YAAA,eAAAS,IAA+Ba,MAAA,SAAAX,GAAyBjB,EAAA+B,YAAc/B,EAAAO,GAAA,kBAAAP,EAAAS,QAAA,UAC9mDuB,4ICuEAC,EAAA,IAAAC,EAAA,oCAEAC,GACAC,YACAC,YAAAC,EAAA,KACAC,MAAAC,EAAA,MAEAC,UACAC,aADA,WAEA,OAAAzC,KAAA0C,OAAAC,MAAAC,SAAAC,WAEArB,QAJA,WAKA,OAAAxB,KAAA4C,SAAA5C,KAAA4C,SAAApB,QAAA,MAEAX,SAPA,WAQA,OAAAiC,OAAAC,EAAA,KAAAD,CAAA9C,KAAAwB,WAGAwB,KAhBA,WAiBA,OACAzC,OAAA,EACAI,UAAA,EACAiC,SAAA,OAGAK,SACAlC,MADA,SACAmC,GACAlD,KAAAO,OAAA,EAEA2C,EAGAlD,KAAA4C,SAAAM,EAFAlD,KAAAmD,eAKAC,iBAVA,WAWApD,KAAAa,SAAAgB,SACAG,EAAAqB,cACArD,KAAA4C,UAAA5C,KAAAyC,aAAAa,SAAAtD,KAAA4C,WACA5C,KAAA0C,OAAAa,OAAAC,EAAA,MAAAZ,SAAA5C,KAAA4C,aAIAhB,OAlBA,WAmBA5B,KAAAyD,MAAApB,YAAAqB,UACA1B,EAAAqB,cACArD,KAAAW,UAAA,EACAX,KAAAoD,oBAEAO,mBAxBA,WAyBA,IAAAC,EAAA5B,EAAA6B,WACA,IAAAD,EACA,YAGA,IAAAhB,EAAA5C,KAAAyC,aAAAqB,KAAA,SAAAlB,GAAA,OAAAA,EAAAmB,OAAAH,IACA,OAAAhB,GAAA,MAEAO,YAjCA,WAkCAnB,EAAAqB,cACArD,KAAA4C,UACAoB,UAAA,EACAD,KAAAjB,OAAAiB,EAAA,KAAAjB,GACAmB,MAAA,cAAAC,QAAA,IAAAC,MAAAC,sBACAC,MAAA,EACAC,aAAAC,EAAAC,EAAAC,WAAA/D,KACAc,QAAA,KACAkD,MAAA,IAAAP,MAAAC,mBAAA,UAEApE,KAAA0C,OAAAa,OAAAC,EAAA,MAAAZ,SAAA5C,KAAA4C,WACAZ,EAAA2C,SAAA3E,KAAA4C,SAAAmB,OAEAjC,MA/CA,WAgDA9B,KAAAO,OAAA,EACAP,KAAAW,UAAA,EACAX,KAAA4C,SAAA,MAEAlB,cApDA,SAAAkD,GAoDA,IAAApD,EAAAoD,EAAApD,QACAxB,KAAA0C,OAAAa,OAAAC,EAAA,MACAqB,kBACAjC,SAAA5C,KAAA4C,SACAkC,WAAAtD,EACAuD,SAAA,GAAAb,OAAApB,OAAAC,EAAA,KAAAD,CAAAtB,GAAAwD,MAAA,mBAKAC,QArFA,WAsFA,IAAArC,EAAA5C,KAAA2D,qBACAf,GACA5C,KAAAe,MAAA6B,IAGAsC,cA3FA,WA4FAlF,KAAAoD,qBCtKuW+B,EAAA,0BCQvWC,EAAgBtC,OAAAuC,EAAA,KAAAvC,CACdqC,EACArF,EACAiC,GACF,EACA,KACA,WACA,MAIAqD,EAAAE,QAAAC,OAAA,qBACeC,EAAA,WAAAJ,6CCpBf,IAAAtF,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2Bc,aAAaP,KAAA,OAAAQ,QAAA,SAAAC,OAAApB,EAAAQ,MAAAa,WAAA,WAAoEf,YAAA,UAAsBF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,SAAcc,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAApB,EAAA,UAAAqB,WAAA,cAA4EX,OAASgF,KAAA,QAAAC,GAAA,YAAAhF,KAAA,QAAAS,MAAA,QAA8DwE,UAAWC,QAAA7F,EAAA8F,GAAA9F,EAAA+F,UAAA,SAAuChF,IAAKiF,OAAA,SAAA/E,GAA0BjB,EAAA+F,UAAA,WAAuB3F,EAAA,SAAcM,OAAOuF,IAAA,eAAmBjG,EAAAO,GAAA,wBAAAH,EAAA,OAA2CE,YAAA,iBAA2BF,EAAA,SAAcc,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAApB,EAAA,UAAAqB,WAAA,cAA4EX,OAASgF,KAAA,QAAAC,GAAA,YAAAhF,KAAA,QAAAS,MAAA,QAA8DwE,UAAWC,QAAA7F,EAAA8F,GAAA9F,EAAA+F,UAAA,SAAuChF,IAAKiF,OAAA,SAAA/E,GAA0BjB,EAAA+F,UAAA,WAAuB3F,EAAA,SAAcM,OAAOuF,IAAA,eAAmBjG,EAAAO,GAAA,wBAAAH,EAAA,OAA2CE,YAAA,iBAA2BF,EAAA,SAAcc,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAApB,EAAA,UAAAqB,WAAA,cAA4EX,OAASgF,KAAA,QAAAC,GAAA,UAAAhF,KAAA,SAA6CiF,UAAWxE,MAAA,KAAAyE,QAAA7F,EAAA8F,GAAA9F,EAAA+F,UAAA,OAAkDhF,IAAKiF,OAAA,SAAA/E,GAA0BjB,EAAA+F,UAAA,SAAqB3F,EAAA,SAAcM,OAAOuF,IAAA,aAAiBjG,EAAAO,GAAA,gBAAAP,EAAA,UAAAI,EAAA,OAAmDE,YAAA,cAAwBF,EAAA,SAAcc,aAAaP,KAAA,QAAAQ,QAAA,UAAAC,MAAApB,EAAA,MAAAqB,WAAA,UAAoEX,OAASgF,KAAA,SAAAC,GAAA,YAAgCC,UAAWxE,MAAApB,EAAA,OAAoBe,IAAKmF,MAAA,SAAAjF,GAAyBA,EAAAkF,OAAAC,YAAsCpG,EAAAqG,MAAApF,EAAAkF,OAAA/E,WAAgChB,EAAA,SAAcE,YAAA,kBAAAI,OAAqCuF,IAAA,cAAkBjG,EAAAO,GAAAP,EAAAsG,GAAAtG,EAAAuG,oBAAAvG,EAAAS,KAAAL,EAAA,OAA2DE,YAAA,UAAoBF,EAAA,UAAeE,YAAA,eAAAI,OAAkC8F,UAAAxG,EAAAyG,OAAsB1F,IAAKa,MAAA,SAAAX,GAAyBjB,EAAAgB,YAAchB,EAAAO,GAAA,eAAAH,EAAA,OAAkCc,aAAaP,KAAA,OAAAQ,QAAA,SAAAC,MAAApB,EAAA,MAAAqB,WAAA,UAAkEf,YAAA,UAAAoG,OAA+BC,QAAA3G,EAAA4G,gBAA+B,SAAA5G,EAAA+F,UAAA3F,EAAA,OAAAJ,EAAAO,GAAA,WAAAP,EAAAsG,GAAAtG,EAAA6G,WAAA,OAAA7G,EAAAsG,GAAAtG,EAAAqG,OAAA,mCAAArG,EAAA+F,UAAA3F,EAAA,OAAAJ,EAAAO,GAAA,WAAAP,EAAAsG,GAAAtG,EAAA8G,aAAA,YAAA9G,EAAAS,KAAAT,EAAA4G,cAAA,OAAA5G,EAAA+F,UAAgX/F,EAAAS,KAAhXL,EAAA,OAAAA,EAAA,UAA2SE,YAAA,cAAAS,IAA8Ba,MAAA,SAAAX,GAAyBjB,EAAA+B,YAAc/B,EAAAO,GAAA,cAAAP,EAAA,aAAAI,EAAA,OAAAA,EAAA,UAA0EE,YAAA,cAAAS,IAA8Ba,MAAA,SAAAX,GAAyBjB,EAAA+B,YAAc/B,EAAAO,GAAA,iBAAAP,EAAAS,KAAA,OAAAT,EAAA+F,UAAA3F,EAAA,OAAAA,EAAA,UAAmFE,YAAA,cAAAS,IAA8Ba,MAAA,SAAAX,GAAyBjB,EAAA+B,YAAc/B,EAAAO,GAAA,mBAAAP,EAAAS,UACjuFuB,KC+EA+E,wBACAC,KAAA,IACAC,KAAA,KAGAC,GACAzE,UACA0E,iBADA,WAEA,YAAAlH,KAAA8F,UACA,SAGA,IAAAqB,EAAA,GAAAnH,KAAAoG,MACA,OAAAe,EAAAnH,KAAAoH,gBAEAd,cATA,WAUA,OAAAtG,KAAA8F,WACA,WACA,mBACA,WACA,uBAGAe,YAjBA,WAkBA,GAAA7G,KAAAkH,iBAAA,IACA,IAAAG,EAAAC,KAAAC,KAAAvH,KAAAkH,iBAAA,IAEA,MACA,GAAAhD,OAAAmD,EADAA,EAAA,EACA,gBAEA,gBACA,OAAArH,KAAAkH,iBAAA,EACA,GAAAhD,OAAAlE,KAAAkH,iBAAA,iBAEA,iBAEAV,MA9BA,WA+BA,cAAAxG,KAAA8F,WAAA9F,KAAAoG,MAAA,GAEAQ,UAjCA,WAkCA,OAAA5G,KAAAa,SAAA2G,MAAA,gBAAAC,SAGAzE,KAtCA,WAuCA,OACAzC,OAAA,EACA6G,eAAA,EACAhB,MAAA,EACAO,cAAA,EACAb,UAAA,KACA4B,cAAA,OAGAzE,SACAlC,MADA,WAEAf,KAAAO,OAAA,EACAP,KAAA2H,MAAA,SAEA,SAAA3H,KAAA8F,WACA9F,KAAA4H,cAGAC,WATA,WAUA7H,KAAA0H,eACAI,cAAA9H,KAAA0H,gBAGA5F,MAdA,WAeA9B,KAAA6H,aACA7H,KAAAO,OAAA,EACAP,KAAA2G,cAAA,GAEAiB,WAnBA,WAmBA,IAAAG,EAAA/H,KACAgI,GAAA,IAAA7D,MAAA8D,UACAjI,KAAA0H,cAAAQ,YAAA,WACA,IAAAC,GAAA,IAAAhE,MAAA8D,UACAF,EAAAX,eAAAE,KAAAc,OAAAD,EAAAH,GAAA,MACA,OAGAK,OACAvC,UADA,SACAwC,EAAAC,GACA,KAAAC,OAAAxI,KAAAoG,OAAA,GAAAoC,OAAAxI,KAAAoG,SAAAU,EAAAyB,IAIA,OAAAD,GACA,WAEA,YADAtI,KAAAoG,MAAA,KAEA,WACApG,KAAAoG,MAAA,KAGAc,iBAdA,SAcAuB,GACA,SAAAzI,KAAA8F,WAIA2C,GAAA,IACAzI,KAAA6H,aACA7H,KAAA2G,cAAA,EACA3G,KAAA2H,MAAA,kBAGAf,UAzBA,SAyBA8B,GACA,SAAA1I,KAAA8F,YAIA4C,GAAA1I,KAAAoG,OACApG,KAAA2G,cAAA,EACA3G,KAAA2H,MAAA,kBACA,IAAA3H,KAAA2G,eACA3G,KAAA2G,cAAA,MAIAgC,OACA9H,UACA+H,UAAA,EACAnD,KAAAoD,SAGA3D,cAvHA,WAwHAlF,KAAA6H,eC7M8ViB,EAAA,0BCQ9V1D,EAAgBtC,OAAAuC,EAAA,KAAAvC,CACdgG,EACAhJ,EACAiC,GACF,EACA,KACA,WACA,MAIAqD,EAAAE,QAAAC,OAAA,YACeC,EAAA,KAAAJ,sECpBf,IAAA2D,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAA4fE,EAAG,4DCA/f,IAAAE,EAAAH,EAAA,QAAAI,EAAAJ,EAAAE,EAAAC,GAAmfC,EAAG","file":"static/js/w-free-write.6e37c395.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workshop-wrap\"},[_c('div',{staticClass:\"workshop\"},[_c('h1',[_vm._v(\"Free Write\")]),_c('p',{staticClass:\"intro\"},[_vm._v(\"\\n      Write whatever comes to mind. Don't worry about style, grammar, or making sense.\\n    \")]),(!_vm.begun)?_c('p',{staticClass:\"intro\"},[_vm._v(\"If you'd like, you can set a time or word limit:\")]):_vm._e(),_c('transition',{attrs:{\"name\":\"shrink\"}},[(!_vm.finished)?_c('div',{staticClass:\"timer-wrap\"},[_c('timer',{attrs:{\"full-text\":_vm.fullText},on:{\"begin\":function($event){_vm.begin()}}})],1):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.begun),expression:\"begun\"}],staticClass:\"content\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.begun && !_vm.finished)?_c('div',{key:\"editor\",staticClass:\"content-inner\"},[_c('div',{staticClass:\"editor\"},[_c('quill-editor',{ref:\"quillEditor\",attrs:{\"content\":_vm.content},on:{\"update:content\":function($event){_vm.updateContent($event)}}})],1),_c('div',{staticClass:\"done\"},[_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.finish()}}},[_vm._v(\"Done\")])])]):(_vm.finished)?_c('div',{key:\"done\",staticClass:\"content-inner\"},[_c('p',{staticClass:\"finished\"},[(this.fullText.trim())?[_c('strong',[_vm._v(\"Saved!\")]),_vm._v(\" You can view this free write in the Workshops column of the Write page.\\n            \")]:[_c('strong',[_vm._v(\"Deleted!\")]),_vm._v(\" This free write was empty.\\n            \")]],2),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Start over\")])]):_vm._e()])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"workshop-wrap\">\r\n    <div class=\"workshop\">\r\n      <h1>Free Write</h1>\r\n      <p class=\"intro\">\r\n        Write whatever comes to mind. Don't worry about style, grammar, or making sense.\r\n      </p>\r\n      <p \r\n        class=\"intro\" \r\n        v-if=\"!begun\">If you'd like, you can set a time or word limit:</p>\r\n      <transition name=\"shrink\">\r\n        <div \r\n          class=\"timer-wrap\" \r\n          v-if=\"!finished\">\r\n          <timer \r\n            @begin=\"begin()\" \r\n            :full-text=\"fullText\"/>\r\n        </div>\r\n      </transition>\r\n      <div \r\n        class=\"content\" \r\n        v-show=\"begun\">\r\n        <transition \r\n          name=\"fade\" \r\n          mode=\"out-in\">\r\n          <div \r\n            v-if=\"begun && !finished\" \r\n            class=\"content-inner\" \r\n            key=\"editor\">\r\n            <div class=\"editor\">\r\n              <quill-editor \r\n                :content=\"content\" \r\n                @update:content=\"updateContent($event)\" \r\n                ref=\"quillEditor\"/>\r\n            </div>\r\n            <div class=\"done\">\r\n              <button \r\n                class=\"button-green\" \r\n                @click=\"finish()\">Done</button>\r\n            </div>\r\n          </div>\r\n          <div \r\n            v-else-if=\"finished\" \r\n            class=\"content-inner\" \r\n            key=\"done\">\r\n            <p class=\"finished\">\r\n              <template v-if=\"this.fullText.trim()\">\r\n                <strong>Saved!</strong> You can view this free write in the Workshops column of the Write page.\r\n              </template>\r\n              <template v-else>\r\n                <strong>Deleted!</strong> This free write was empty.\r\n              </template>\r\n            </p>\r\n            <button \r\n              class=\"button-green\" \r\n              @click=\"reset()\">Start over</button>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ADD_WORKSHOP, DELETE_WORKSHOP, UPDATE_WORKSHOPS_CONTENT } from '../shared/workshops.store'\r\nimport Cache from '../shared/cache'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport Timer from '../shared/timer.vue'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nconst exerciseCache = new Cache('FREE_WRITE_CURRENT_EXERCISE')\r\n\r\nexport default {\r\n  components: {\r\n    QuillEditor,\r\n    Timer,\r\n  },\r\n  computed: {\r\n    allWorkshops() {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n    content() {\r\n      return this.workshop ? this.workshop.content : null\r\n    },\r\n    fullText() {\r\n      return GetContentString(this.content)\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      begun: false,\r\n      finished: false,\r\n      workshop: null,\r\n    }\r\n  },\r\n  methods: {\r\n    begin(currentWorkshop) {\r\n      this.begun = true\r\n\r\n      if (!currentWorkshop) {\r\n        this.newWorkshop()\r\n      } else {\r\n        this.workshop = currentWorkshop\r\n      }\r\n    },\r\n    checkForDeletion() {\r\n      if (!this.fullText.trim()) {\r\n        exerciseCache.cacheDelete()\r\n        if (this.workshop && this.allWorkshops.includes(this.workshop)) {\r\n          this.$store.commit(DELETE_WORKSHOP, { workshop: this.workshop })\r\n        }\r\n      }\r\n    },\r\n    finish() {\r\n      this.$refs.quillEditor.disable()\r\n      exerciseCache.cacheDelete()\r\n      this.finished = true\r\n      this.checkForDeletion()\r\n    },\r\n    getCurrentWorkshop() {\r\n      const cachedGuid = exerciseCache.cacheGet()\r\n      if (!cachedGuid) {\r\n        return null\r\n      }\r\n\r\n      const workshop = this.allWorkshops.find(workshop => workshop.guid === cachedGuid)\r\n      return workshop || null\r\n    },\r\n    newWorkshop() {\r\n      exerciseCache.cacheDelete()\r\n      this.workshop = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title: `Free Write ${new Date().toLocaleDateString()}`,\r\n        order: 0,\r\n        workshopName: writingWorkshops.FREE_WRITE.name,\r\n        content: null,\r\n        date: new Date().toLocaleDateString('en-US'),\r\n      }\r\n      this.$store.commit(ADD_WORKSHOP, { workshop: this.workshop })\r\n      exerciseCache.cacheSet(this.workshop.guid)\r\n    },\r\n    reset() {\r\n      this.begun = false\r\n      this.finished = false\r\n      this.workshop = null\r\n    },\r\n    updateContent({ content }) {\r\n      this.$store.commit(UPDATE_WORKSHOPS_CONTENT, {\r\n        workshopUpdates: [{\r\n          workshop: this.workshop,\r\n          newContent: content,\r\n          newTitle: `${GetContentString(content).slice(0, 20)}...`,\r\n        }],\r\n      })\r\n    },\r\n  },\r\n  created() {\r\n    const workshop = this.getCurrentWorkshop()\r\n    if (workshop) {\r\n      this.begin(workshop)\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.checkForDeletion()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.shrink-enter-active, .shrink-leave-active {\r\n  transition: max-height 200ms, opacity 200ms;\r\n}\r\n\r\n.shrink-enter, .shrink-leave-to {\r\n  opacity: 0;\r\n  max-height: 0;\r\n}\r\n\r\n.shrink-enter-to, .shrink-leave {\r\n  opacity: 1;\r\n  max-height: 300px;\r\n}\r\n\r\n.fade-enter-active, .fade-leave-active {\r\n  transition: opacity 500ms;\r\n}\r\n\r\n.fade-enter, .fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.fade-leave, .fade-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n.intro {\r\n  margin: 0;\r\n}\r\n\r\n.timer-wrap {\r\n  overflow: hidden;\r\n}\r\n\r\n.content {\r\n  height: 300px;\r\n  position: relative;\r\n}\r\n\r\n.content-inner {\r\n  left: 0;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n}\r\n\r\n.editor {\r\n  display: block;\r\n  height: 200px;\r\n  margin-bottom: 50px;\r\n  min-height: 200px;\r\n  transition: opacity 200ms;\r\n}\r\n\r\n.editor.saving {\r\n  opacity: 0.5;\r\n}\r\n\r\n.editor .wrap {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.finished {\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeWrite.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeWrite.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./freeWrite.page.vue?vue&type=template&id=c4c7e872&scoped=true&\"\nimport script from \"./freeWrite.page.vue?vue&type=script&lang=js&\"\nexport * from \"./freeWrite.page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./freeWrite.page.vue?vue&type=style&index=0&id=c4c7e872&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4c7e872\",\n  null\n  \n)\n\ncomponent.options.__file = \"freeWrite.page.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.begun),expression:\"!begun\"}],staticClass:\"limit\"},[_c('div',{staticClass:\"limit-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limitType),expression:\"limitType\"}],attrs:{\"type\":\"radio\",\"id\":\"wordLimit\",\"name\":\"limit\",\"value\":\"word\"},domProps:{\"checked\":_vm._q(_vm.limitType,\"word\")},on:{\"change\":function($event){_vm.limitType=\"word\"}}}),_c('label',{attrs:{\"for\":\"wordLimit\"}},[_vm._v(\"Set a word limit\")])]),_c('div',{staticClass:\"limit-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limitType),expression:\"limitType\"}],attrs:{\"type\":\"radio\",\"id\":\"timeLimit\",\"name\":\"limit\",\"value\":\"time\"},domProps:{\"checked\":_vm._q(_vm.limitType,\"time\")},on:{\"change\":function($event){_vm.limitType=\"time\"}}}),_c('label',{attrs:{\"for\":\"timeLimit\"}},[_vm._v(\"Set a time limit\")])]),_c('div',{staticClass:\"limit-option\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limitType),expression:\"limitType\"}],attrs:{\"type\":\"radio\",\"id\":\"noLimit\",\"name\":\"limit\"},domProps:{\"value\":null,\"checked\":_vm._q(_vm.limitType,null)},on:{\"change\":function($event){_vm.limitType=null}}}),_c('label',{attrs:{\"for\":\"noLimit\"}},[_vm._v(\"No limit\")])]),(_vm.limitType)?_c('div',{staticClass:\"set-limit\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.limit),expression:\"limit\"}],attrs:{\"type\":\"number\",\"id\":\"setLimit\"},domProps:{\"value\":(_vm.limit)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.limit=$event.target.value}}}),_c('label',{staticClass:\"set-limit-label\",attrs:{\"for\":\"setLimit\"}},[_vm._v(_vm._s(_vm.setLimitLabel))])]):_vm._e(),_c('div',{staticClass:\"begin\"},[_c('button',{staticClass:\"button-green\",attrs:{\"disabled\":!_vm.valid},on:{\"click\":function($event){_vm.begin()}}},[_vm._v(\"Begin\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.begun),expression:\"begun\"}],staticClass:\"counter\",class:{ 'expired': _vm.limitReached }},[(_vm.limitType === 'word')?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.wordCount)+\" of \"+_vm._s(_vm.limit)+\" words written\\n    \")]):(_vm.limitType === 'time')?_c('div',[_vm._v(\"\\n      \"+_vm._s(_vm.timeDisplay)+\"\\n    \")]):_vm._e(),(!_vm.limitReached && _vm.limitType !== null)?_c('div',[_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Cancel\")])]):_vm._e(),(_vm.limitReached)?_c('div',[_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Set again\")])]):_vm._e(),(_vm.limitType === null)?_c('div',[_c('button',{staticClass:\"button-link\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Set a limit\")])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div \r\n      v-show=\"!begun\" \r\n      class=\"limit\">\r\n      <div class=\"limit-option\">\r\n        <input \r\n          type=\"radio\" \r\n          id=\"wordLimit\" \r\n          name=\"limit\" \r\n          value=\"word\" \r\n          v-model=\"limitType\">\r\n        <label for=\"wordLimit\">Set a word limit</label>\r\n      </div>\r\n      <div class=\"limit-option\">\r\n        <input \r\n          type=\"radio\" \r\n          id=\"timeLimit\" \r\n          name=\"limit\" \r\n          value=\"time\" \r\n          v-model=\"limitType\">\r\n        <label for=\"timeLimit\">Set a time limit</label>\r\n      </div>\r\n      <div class=\"limit-option\">\r\n        <input \r\n          type=\"radio\" \r\n          id =\"noLimit\" \r\n          name=\"limit\" \r\n          :value=\"null\" \r\n          v-model=\"limitType\">\r\n        <label for=\"noLimit\">No limit</label>\r\n      </div>\r\n      <div \r\n        class=\"set-limit\" \r\n        v-if=\"limitType\">\r\n        <input \r\n          type=\"number\" \r\n          id=\"setLimit\" \r\n          v-model=\"limit\">\r\n        <label \r\n          class=\"set-limit-label\" \r\n          for=\"setLimit\">{{ setLimitLabel }}</label>\r\n      </div>\r\n      <div class=\"begin\">\r\n        <button \r\n          class=\"button-green\" \r\n          @click=\"begin()\" \r\n          :disabled=\"!valid\">Begin</button>\r\n      </div>\r\n    </div>\r\n    <div \r\n      v-show=\"begun\" \r\n      class=\"counter\" \r\n      :class=\"{ 'expired': limitReached }\">\r\n      <div v-if=\"limitType === 'word'\">\r\n        {{ wordCount }} of {{ limit }} words written\r\n      </div>\r\n      <div v-else-if=\"limitType === 'time'\">\r\n        {{ timeDisplay }}\r\n      </div>\r\n      <div v-if=\"!limitReached && limitType !== null\">\r\n        <button \r\n          class=\"button-link\" \r\n          @click=\"reset()\">Cancel</button>\r\n      </div>\r\n      <div v-if=\"limitReached\">\r\n        <button \r\n          class=\"button-link\" \r\n          @click=\"reset()\">Set again</button>\r\n      </div>\r\n      <div v-if=\"limitType === null\">\r\n        <button \r\n          class=\"button-link\" \r\n          @click=\"reset()\">Set a limit</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst defaultLimit = {\r\n  word: 500,\r\n  time: 10,\r\n}\r\n\r\nexport default {\r\n  computed: {\r\n    secondsRemaining() {\r\n      if (this.limitType !== 'time') {\r\n        return 0\r\n      }\r\n\r\n      const limitSeconds = this.limit * 60\r\n      return limitSeconds - this.elapsedSeconds\r\n    },\r\n    setLimitLabel() {\r\n      switch (this.limitType) {\r\n        case 'word':\r\n          return 'word limit'\r\n        case 'time':\r\n          return 'minute limit'\r\n      }\r\n    },\r\n    timeDisplay() {\r\n      if (this.secondsRemaining > 30) {\r\n        const minutesRemaining = Math.ceil(this.secondsRemaining / 60)\r\n\r\n        if (minutesRemaining > 1) {\r\n          return `${minutesRemaining} minutes left`\r\n        }\r\n        return `${minutesRemaining} minute left`\r\n      } else if (this.secondsRemaining > 0) {\r\n        return `${this.secondsRemaining} seconds left`\r\n      }\r\n      return 'Timer expired'\r\n    },\r\n    valid() {\r\n      return this.limitType === null || this.limit > 0\r\n    },\r\n    wordCount() {\r\n      return (this.fullText.match(/[^\\s]+/g) || []).length\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      begun: false,\r\n      elapsedSeconds: 0,\r\n      limit: 0,\r\n      limitReached: false,\r\n      limitType: null,\r\n      timerInterval: null,\r\n    }\r\n  },\r\n  methods: {\r\n    begin() {\r\n      this.begun = true\r\n      this.$emit('begin')\r\n\r\n      if (this.limitType === 'time') {\r\n        this.startTimer()\r\n      }\r\n    },\r\n    clearTimer() {\r\n      if (this.timerInterval) {\r\n        clearInterval(this.timerInterval)\r\n      }\r\n    },\r\n    reset() {\r\n      this.clearTimer()\r\n      this.begun = false\r\n      this.limitReached = false\r\n    },\r\n    startTimer() {\r\n      const startTime = new Date().getTime()\r\n      this.timerInterval = setInterval(() => {\r\n        const currentTime = new Date().getTime()\r\n        this.elapsedSeconds = Math.round((currentTime - startTime) / 1000)\r\n      }, 200)\r\n    },\r\n  },\r\n  watch: {\r\n    limitType(limitType, oldLimitType) {\r\n      if (Number(this.limit) > 0 && Number(this.limit) !== defaultLimit[oldLimitType]) {\r\n        return\r\n      }\r\n\r\n      switch (limitType) {\r\n        case 'word':\r\n          this.limit = 500\r\n          return\r\n        case 'time':\r\n          this.limit = 10\r\n      }\r\n    },\r\n    secondsRemaining(seconds) {\r\n      if (this.limitType !== 'time') {\r\n        return\r\n      }\r\n\r\n      if (seconds <= 0) {\r\n        this.clearTimer()\r\n        this.limitReached = true\r\n        this.$emit('limitReached')\r\n      }\r\n    },\r\n    wordCount(count) {\r\n      if (this.limitType !== 'word') {\r\n        return\r\n      }\r\n\r\n      if (count >= this.limit) {\r\n        this.limitReached = true\r\n        this.$emit('limitReached')\r\n      } else if (this.limitReached === true) {\r\n        this.limitReached = false\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    fullText: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    this.clearTimer()\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.limit {\r\n  background-color: #FFF;\r\n  border: 1px solid rgba(13, 91, 166, 0.5);\r\n  display: inline-block;\r\n  margin: 20px 0;\r\n  min-width: 250px;\r\n  padding: 14px 12px;\r\n}\r\n\r\n.limit-option {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.set-limit-label {\r\n  margin-left: 4px;\r\n}\r\n\r\n.begin {\r\n  margin-top: 12px;\r\n}\r\n\r\n.counter {\r\n  color: rgb(1,171,109);\r\n  display: inline-block;\r\n  font-size: 24px;\r\n  margin: 20px 0;\r\n  min-width: 250px;\r\n  padding: 14px 0;\r\n  transition: color 200ms;\r\n}\r\n\r\n.counter.expired {\r\n  color: red;\r\n}\r\n\r\n.counter .button-link {\r\n  padding: 6px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timer.vue?vue&type=template&id=642797c4&scoped=true&\"\nimport script from \"./timer.vue?vue&type=script&lang=js&\"\nexport * from \"./timer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./timer.vue?vue&type=style&index=0&id=642797c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"642797c4\",\n  null\n  \n)\n\ncomponent.options.__file = \"timer.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeWrite.page.vue?vue&type=style&index=0&id=c4c7e872&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./freeWrite.page.vue?vue&type=style&index=0&id=c4c7e872&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timer.vue?vue&type=style&index=0&id=642797c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timer.vue?vue&type=style&index=0&id=642797c4&scoped=true&lang=css&\""],"sourceRoot":""}