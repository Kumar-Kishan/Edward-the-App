{"version":3,"sources":["webpack:///./src/app/workshops/settingWorkshop.vue?8de2","webpack:///./src/app/workshops/resources/setting-prompts.js","webpack:///src/app/workshops/settingWorkshop.vue","webpack:///./src/app/workshops/settingWorkshop.vue?7305","webpack:///./src/app/workshops/settingWorkshop.vue","webpack:///./src/app/workshops/settingWorkshop.vue?6053"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","begun","_e","on","click","$event","begin","finished","_m","_s","prompt","ref","attrs","content","update:content","updateContent","finish","fullText","trim","reset","staticRenderFns","setting_prompts","exerciseCache","cache","promptCache","settingWorkshopvue_type_script_lang_js_","components","QuillEditor","quillEditor","computed","allWorkshops","$store","state","workshop","workshops","Object","deltaParser","data","methods","currentWorkshop","currentPrompt","newWorkshop","checkForDeletion","cacheDelete","includes","commit","workshops_store","getCurrentPrompts","cachedPrompts","cacheGet","getCurrentWorkshop","cachedGuid","find","guid","getDefineLink","word","urlWord","replace","concat","getRandomPrompt","randomInt","length","cacheSet","archived","title","Date","toLocaleDateString","order","workshopName","writingWorkshop","SETTING_WORKSHOP","name","date","max","Math","floor","random","_ref","workshopUpdates","newContent","created","prompts","beforeDestroy","workshops_settingWorkshopvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_settingWorkshop_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_settingWorkshop_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"2HAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA4B,CAAAF,EAAA,OAAYE,YAAA,YAAuB,CAAAF,EAAA,MAAAJ,EAAAO,GAAA,sBAAAH,EAAA,KAAAJ,EAAAO,GAAA,saAAAP,EAAAQ,MAAmkBR,EAAAS,KAAnkBL,EAAA,UAAufE,YAAA,qBAAAI,GAAA,CAAqCC,MAAA,SAAAC,GAAyBZ,EAAAa,WAAc,CAAAb,EAAAO,GAAA,WAAAP,EAAAQ,QAAAR,EAAAc,SAAAV,EAAA,OAAAA,EAAA,OAA8EE,YAAA,UAAqB,CAAAN,EAAAe,GAAA,GAAAX,EAAA,KAAAJ,EAAAO,GAAA,eAAAP,EAAAgB,GAAAhB,EAAAiB,QAAA,kBAAAb,EAAA,OAAyFE,YAAA,SAAoB,CAAAF,EAAA,gBAAqBc,IAAA,cAAAC,MAAA,CAAyBC,QAAApB,EAAAoB,SAAsBV,GAAA,CAAKW,iBAAA,SAAAT,GAAkCZ,EAAAsB,cAAAV,QAA4B,GAAAR,EAAA,OAAgBE,YAAA,WAAsB,CAAAF,EAAA,UAAeE,YAAA,oBAAAI,GAAA,CAAoCC,MAAA,SAAAC,GAAyBZ,EAAAuB,YAAe,CAAAvB,EAAAO,GAAA,cAAAP,EAAA,SAAAI,EAAA,OAAAA,EAAA,KAAwDE,YAAA,YAAuB,CAAAL,KAAAuB,SAAAC,OAAA,CAAArB,EAAA,UAAAJ,EAAAO,GAAA,YAAAP,EAAAO,GAAA,sFAAAH,EAAA,UAAAJ,EAAAO,GAAA,cAAAP,EAAAO,GAAA,4CAAAH,EAAA,UAAyPE,YAAA,eAAAI,GAAA,CAA+BC,MAAA,SAAAC,GAAyBZ,EAAA0B,WAAc,CAAA1B,EAAAO,GAAA,kBAAAP,EAAAS,UACllDkB,EAAA,YAAoC,IAAA3B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAAAA,EAAA,UAAAJ,EAAAO,GAAA,qHCDpFqB,EAAA,CACb,qCACA,8DACA,4CACA,mCACA,qCACA,mCACA,0DACA,gDACA,kDACA,oCACA,2EACA,mCACA,oCACA,8DACA,qDACA,+CACA,+CACA,+CACA,yDACA,sCACA,uDACA,iDACA,2CACA,4DACA,mDACA,yDCgCFC,EAAA,IAAAC,EAAA,0CACAC,EAAA,IAAAD,EAAA,iCAEAE,EAAA,CACAC,WAAA,CACAC,YAAAC,EAAA,MAEAC,SAAA,CACAC,aADA,WAEA,OAAApC,KAAAqC,OAAAC,MAAAC,SAAAC,WAEArB,QAJA,WAKA,OAAAnB,KAAAuC,SAAAvC,KAAAuC,SAAApB,QAAA,MAEAI,SAPA,WAQA,OAAAkB,OAAAC,EAAA,KAAAD,CAAAzC,KAAAmB,WAGAwB,KAfA,WAgBA,OACApC,OAAA,EACAM,UAAA,EACAG,OAAA,GACAuB,SAAA,OAGAK,QAAA,CACAhC,MADA,SACAiC,EAAAC,GACA9C,KAAAO,OAAA,EAEAsC,GAGA7C,KAAAuC,SAAAM,EAEAC,IACA9C,KAAAgB,OAAA8B,IALA9C,KAAA+C,eASAC,iBAdA,WAeAhD,KAAAuB,SAAAC,SACAI,EAAAqB,cACAnB,EAAAmB,cACAjD,KAAAuC,UAAAvC,KAAAoC,aAAAc,SAAAlD,KAAAuC,WACAvC,KAAAqC,OAAAc,OAAAC,EAAA,MAAAb,SAAAvC,KAAAuC,aAIAjB,OAvBA,WAwBAM,EAAAqB,cACAnB,EAAAmB,cACAjD,KAAAa,UAAA,EACAb,KAAAgD,oBAEAK,kBA7BA,WA8BA,IAAAC,EAAAxB,EAAAyB,WACA,OAAAD,GACA,MAKAE,mBArCA,WAsCA,IAAAC,EAAA7B,EAAA2B,WACA,IAAAE,EACA,YAGA,IAAAlB,EAAAvC,KAAAoC,aAAAsB,KAAA,SAAAnB,GAAA,OAAAA,EAAAoB,OAAAF,IACA,OAAAlB,GAAA,MAEAqB,cA9CA,SA8CAC,GACA,IAAAC,EAAAD,EAAArC,OAAAuC,QAAA,YACA,0CAAAC,OAAAF,IAEAG,gBAlDA,WAmDA,OAAAtC,EAAA3B,KAAAkE,UAAAvC,EAAAwC,UAEApB,YArDA,WAsDAjB,EAAAmB,cACAjD,KAAAgB,OAAAhB,KAAAiE,kBACAnC,EAAAsC,SAAApE,KAAAgB,QAEAY,EAAAqB,cACAjD,KAAAuC,SAAA,CACA8B,UAAA,EACAV,KAAAlB,OAAAkB,EAAA,KAAAlB,GACA6B,MAAA,oBAAAN,QAAA,IAAAO,MAAAC,sBACAC,MAAA,EACAC,aAAAC,EAAA,KAAAC,iBAAAC,KACA1D,QAAA,KACA2D,MAAA,IAAAP,MAAAC,mBAAA,UAEAxE,KAAAqC,OAAAc,OAAAC,EAAA,MAAAb,SAAAvC,KAAAuC,WACAX,EAAAwC,SAAApE,KAAAuC,SAAAoB,OAEAO,UAvEA,SAuEAa,GACA,OAAAC,KAAAC,MAAAD,KAAAE,SAAAF,KAAAC,MAAAF,EAAA,KAEAtD,MA1EA,WA2EAzB,KAAAO,OAAA,EACAP,KAAAa,UAAA,EACAb,KAAAuC,SAAA,MAEAlB,cA/EA,SAAA8D,GA+EA,IAAAhE,EAAAgE,EAAAhE,QACAnB,KAAAqC,OAAAc,OAAAC,EAAA,MACAgC,gBAAA,EACA7C,SAAAvC,KAAAuC,SACA8C,WAAAlE,QAKAmE,QA/GA,WAgHA,IAAA/C,EAAAvC,KAAAwD,qBACA,GAAAjB,EAAA,CACA,IAAAgD,EAAAvF,KAAAqD,oBACArD,KAAAY,MAAA2B,EAAAgD,KAGAC,cAtHA,WAuHAxF,KAAAgD,qBCpL2YyC,EAAA,0BCQ3YC,EAAgBjD,OAAAkD,EAAA,KAAAlD,CACdgD,EACA3F,EACA4B,GACF,EACA,KACA,KACA,MAIAgE,EAAAE,QAAAC,OAAA,sBACeC,EAAA,WAAAJ,oECpBf,IAAAK,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAqeE,EAAG","file":"static/js/w-setting-workshop.566449ca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workshop-wrap\"},[_c('div',{staticClass:\"workshop\"},[_c('h1',[_vm._v(\"Setting Workshop\")]),_c('p',[_vm._v(\"\\n      Choose a setting from your novel: any time and place where part of the novel takes place. A prompt will appear below. Use the prompt as a starting point to explore your setting, thinking about how it affects the action and how it makes the characters feel. Use imagery such as sights, sounds and smells to create a sense of realism. What you write doesn't need to be relevant to the plot of your novel.\\n    \")]),(!_vm.begun)?_c('button',{staticClass:\"begin button-green\",on:{\"click\":function($event){_vm.begin()}}},[_vm._v(\"Begin\")]):_vm._e(),(_vm.begun && !_vm.finished)?_c('div',[_c('div',{staticClass:\"prompt\"},[_vm._m(0),_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.prompt)+\"\\n        \")])]),_c('div',{staticClass:\"write\"},[_c('quill-editor',{ref:\"quillEditor\",attrs:{\"content\":_vm.content},on:{\"update:content\":function($event){_vm.updateContent($event)}}})],1),_c('div',{staticClass:\"actions\"},[_c('button',{staticClass:\"done button-green\",on:{\"click\":function($event){_vm.finish()}}},[_vm._v(\"Done\")])])]):(_vm.finished)?_c('div',[_c('p',{staticClass:\"finished\"},[(this.fullText.trim())?[_c('strong',[_vm._v(\"Saved!\")]),_vm._v(\" You can view this exercise in the Workshops column of the Write page.\\n        \")]:[_c('strong',[_vm._v(\"Deleted!\")]),_vm._v(\" This exercise was empty.\\n        \")]],2),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"Start over\")])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"Prompt:\")])])}]\n\nexport { render, staticRenderFns }","export default [\r\n  'A blind person is passing through.',\r\n  'A person in a wheelchair or on crutches is passing through.',\r\n  'A poet is using the place as inspiration.',\r\n  'A deadly battle is taking place.',\r\n  'A local church is having a picnic.',\r\n  'An activist group is protesting.',\r\n  'Two people on horseback are riding at a leisurely pace.',\r\n  'Someone is hiding from a terrifying creature.',\r\n  'A search party is looking for a missing person.',\r\n  'Two lovers are meeting in secret.',\r\n  'A fugitive from the law is trying to pass through without being noticed.',\r\n  'A politician is making a speech.',\r\n  'A fire is growing out of control.',\r\n  'An animal is looking for a comfortable place to give birth.',\r\n  'A homeless person is looking for something to eat.',\r\n  'A group of children is playing a risky game.',\r\n  'Someone is looking for a quiet place to cry.',\r\n  'A lost traveler is trying to find their way.',\r\n  'A mother is trying to shelter her infant from a storm.',\r\n  'A clumsy jogger is passing through.',\r\n  'A group of performers is trying to draw an audience.',\r\n  'A beloved friend is speaking their last words.',\r\n  'A hunter is quietly stalking their prey.',\r\n  'A grandparent is reminiscing about how things used to be.',\r\n  'An officer of the law is looking for a criminal.',\r\n  'An unruly crowd is gathering.'\r\n]\r\n","<template>\r\n  <div class=\"workshop-wrap\">\r\n    <div class=\"workshop\">\r\n      <h1>Setting Workshop</h1>\r\n      <p>\r\n        Choose a setting from your novel: any time and place where part of the novel takes place. A prompt will appear below. Use the prompt as a starting point to explore your setting, thinking about how it affects the action and how it makes the characters feel. Use imagery such as sights, sounds and smells to create a sense of realism. What you write doesn't need to be relevant to the plot of your novel.\r\n      </p>\r\n      <button \r\n        v-if=\"!begun\" \r\n        class=\"begin button-green\" \r\n        @click=\"begin()\">Begin</button>\r\n      <div v-if=\"begun && !finished\">\r\n        <div class=\"prompt\">\r\n          <p>\r\n            <strong>Prompt:</strong>\r\n          </p>\r\n          <p>\r\n            {{ prompt }}\r\n          </p>\r\n        </div>\r\n        <div class=\"write\">\r\n          <quill-editor \r\n            :content=\"content\" \r\n            @update:content=\"updateContent($event)\" \r\n            ref=\"quillEditor\"/>\r\n        </div>\r\n        <div class=\"actions\">\r\n          <button \r\n            class=\"done button-green\" \r\n            @click=\"finish()\">Done</button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"finished\">\r\n        <p class=\"finished\">\r\n          <template v-if=\"this.fullText.trim()\">\r\n            <strong>Saved!</strong> You can view this exercise in the Workshops column of the Write page.\r\n          </template>\r\n          <template v-else>\r\n            <strong>Deleted!</strong> This exercise was empty.\r\n          </template>\r\n        </p>\r\n        <button \r\n          class=\"button-green\" \r\n          @click=\"reset()\">Start over</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ADD_WORKSHOP, DELETE_WORKSHOP, UPDATE_WORKSHOPS_CONTENT } from '../shared/workshops.store'\r\nimport Cache from '../shared/cache'\r\nimport { GetContentString } from '../shared/deltaParser'\r\nimport guid from '../shared/guid'\r\nimport SettingPrompts from './resources/setting-prompts'\r\nimport QuillEditor from '../shared/quillEditor.vue'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nconst exerciseCache = new Cache('SETTING_WORKSHOP_CURRENT_EXERCISE')\r\nconst promptCache = new Cache('SETTING_WORKSHOP_PROMPTS')\r\n\r\nexport default {\r\n  components: {\r\n    QuillEditor,\r\n  },\r\n  computed: {\r\n    allWorkshops() {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n    content() {\r\n      return this.workshop ? this.workshop.content : null\r\n    },\r\n    fullText() {\r\n      return GetContentString(this.content)\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      begun: false,\r\n      finished: false,\r\n      prompt: '',\r\n      workshop: null,\r\n    }\r\n  },\r\n  methods: {\r\n    begin(currentWorkshop, currentPrompt) {\r\n      this.begun = true\r\n\r\n      if (!currentWorkshop) {\r\n        this.newWorkshop()\r\n      } else {\r\n        this.workshop = currentWorkshop\r\n\r\n        if (currentPrompt) {\r\n          this.prompt = currentPrompt\r\n        }\r\n      }\r\n    },\r\n    checkForDeletion() {\r\n      if (!this.fullText.trim()) {\r\n        exerciseCache.cacheDelete()\r\n        promptCache.cacheDelete()\r\n        if (this.workshop && this.allWorkshops.includes(this.workshop)) {\r\n          this.$store.commit(DELETE_WORKSHOP, { workshop: this.workshop })\r\n        }\r\n      }\r\n    },\r\n    finish() {\r\n      exerciseCache.cacheDelete()\r\n      promptCache.cacheDelete()\r\n      this.finished = true\r\n      this.checkForDeletion()\r\n    },\r\n    getCurrentPrompts() {\r\n      const cachedPrompts = promptCache.cacheGet()\r\n      if (!cachedPrompts) {\r\n        return null\r\n      }\r\n\r\n      return cachedPrompts\r\n    },\r\n    getCurrentWorkshop() {\r\n      const cachedGuid = exerciseCache.cacheGet()\r\n      if (!cachedGuid) {\r\n        return null\r\n      }\r\n\r\n      const workshop = this.allWorkshops.find(workshop => workshop.guid === cachedGuid)\r\n      return workshop || null\r\n    },\r\n    getDefineLink(word) {\r\n      const urlWord = word.trim().replace(/\\s+/g, '+')\r\n      return `https://www.google.com/#q=define+${urlWord}`\r\n    },\r\n    getRandomPrompt() {\r\n      return SettingPrompts[this.randomInt(SettingPrompts.length)]\r\n    },\r\n    newWorkshop() {\r\n      promptCache.cacheDelete()\r\n      this.prompt = this.getRandomPrompt()\r\n      promptCache.cacheSet(this.prompt)\r\n\r\n      exerciseCache.cacheDelete()\r\n      this.workshop = {\r\n        archived: false,\r\n        guid: guid(),\r\n        title: `Setting Workshop ${new Date().toLocaleDateString()}`,\r\n        order: 0,\r\n        workshopName: writingWorkshops.SETTING_WORKSHOP.name,\r\n        content: null,\r\n        date: new Date().toLocaleDateString('en-US'),\r\n      }\r\n      this.$store.commit(ADD_WORKSHOP, { workshop: this.workshop })\r\n      exerciseCache.cacheSet(this.workshop.guid)\r\n    },\r\n    randomInt(max) {\r\n      return Math.floor(Math.random() * Math.floor(max + 1))\r\n    },\r\n    reset() {\r\n      this.begun = false\r\n      this.finished = false\r\n      this.workshop = null\r\n    },\r\n    updateContent({ content }) {\r\n      this.$store.commit(UPDATE_WORKSHOPS_CONTENT, {\r\n        workshopUpdates: [{\r\n          workshop: this.workshop,\r\n          newContent: content,\r\n        }],\r\n      })\r\n    },\r\n  },\r\n  created() {\r\n    const workshop = this.getCurrentWorkshop()\r\n    if (workshop) {\r\n      const prompts = this.getCurrentPrompts()\r\n      this.begin(workshop, prompts)\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.checkForDeletion()\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.prompt {\r\n  margin-top: 20px;\r\n}\r\n\r\n.warn {\r\n  color: red;\r\n}\r\n\r\n.write {\r\n  height: 300px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.actions {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settingWorkshop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settingWorkshop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./settingWorkshop.vue?vue&type=template&id=0b0dda78&\"\nimport script from \"./settingWorkshop.vue?vue&type=script&lang=js&\"\nexport * from \"./settingWorkshop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./settingWorkshop.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"settingWorkshop.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settingWorkshop.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settingWorkshop.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}