{"version":3,"sources":["webpack:///src/auth/account.page.vue","webpack:///./src/auth/account.page.vue?ed69","webpack:///./src/app/api/localStorage.js","webpack:///./utilities.js","webpack:///./src/auth/account.page.vue","webpack:///./src/app/api/api.js","webpack:///./static/icon-small.png"],"names":["__webpack_require__","_shared","storage","_localStorage2","default","accountPayments","_accountPayments","_defineProperty3","_accountType2","LIMITED","name","display","amount","PREMIUM","GOLD","PulseLoader","_PulseLoader2","displayName","isOverdue","isPremium","meta","getCurrentUser","goToApp","_this","this","email","token","_token","then","getFullExport","exported","showSuccessPage","err","_this2","_token2","limitedToGold","premiumToGold","_this3","_token3","_this4","text","willDowngrade","_this5","_token4","_this6","stripePublicKey","image","_iconSmall2","close","d","__webpack_exports__","staticRenderFns","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","accountType","_e","paymentDueDate","on","click","$event","updatePayment","goldToPremium","limitedToPremium","isGold","toGold","paidToLimited","attrs","href","to","disabled","saving","cancel","_utilities","LocalStorageApi","_classCallCheck3","_localforage2","setDriver","INDEXEDDB","WEBSQL","LOCALSTORAGE","window","_storage","getStorageKeys","keys","planKeyPrefix","documentGuid","planOrderKey","getPlanKey","planGuid","sectionKeyPrefix","sectionOrderKey","getSectionKey","sectionGuid","chapterKeyPrefix","chapterOrderKey","getChapterKey","chapterGuid","topicKeyPrefix","topicOrderKey","getTopicKey","topicGuid","documentGuidsKey","documentsKey","guid","_ref","_getAllDocumentGuids","documentGuids","includes","push","setItem","chapterGuids","planGuids","sectionGuids","topicGuids","key","removeItem","splice","indexOf","_promise2","all","_getAllChapters","chapters","map","chapter","deleteChapter","_getAllPlans","plans","plan","_getAllSections","sections","section","deleteSection","deletePlan","_getAllTopics","topics","topic","deleteTopic","workshopGuid","Error","prefix","_getChaptersSortOrder","filter","startsWith","_ref2","_ref3","_slicedToArray3","sortOrder","getItem","sort","chap1","chap2","guids","_uniq2","_getAllDocuments","_getPlansSortOrder","_ref4","_ref5","plan1","plan2","_this7","_getSectionSortOrder","_ref6","_ref7","section1","section2","_this8","_getTopicsSortOrder","_ref8","_ref9","topic1","topic2","_this9","_ref10","updateTopicFns","updateTopic","updateChapterPromise","orderPromises","updateChapterFns","updateChapter","updatePlanFns","updatePlan","updateSectionFns","updateSection","updatePlanPromise","_this10","arguments","length","undefined","arrangeChapters","_ref11","_this11","_clone2","arrangePlans","_this12","arrangeSections","_this13","arrangeTopics","workshops","_this14","_ref12","_ref13","doc","_this15","backup","docExport","_backup","deleteDocument","addDocument","saveAllContent","console","error","_this16","documents","_ref14","_ref15","_this17","_keys2","importErr","_this18","iterate","value","clear","Array","isArray","addDocumentPromises","revertImport","module","exports","promiseFns","TypeError","JSON","stringify","Promise","resolve","promise","slice","_node_modules_vue_loader_lib_runtime_component_normalizer__WEBPACK_IMPORTED_MODULE_2__","__vue_styles__","context","Component","Object","_babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_account_page_vue__WEBPACK_IMPORTED_MODULE_0___default","a","_node_modules_vue_loader_lib_template_compiler_index_id_data_v_9ad52e48_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_account_page_vue__WEBPACK_IMPORTED_MODULE_1__","route","_route","Api","_axios2","get","response","data","body","post","simplePost","simpleGet"],"mappings":"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","file":"static/js/6.41bc27130726381a4f50.js","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"account\">\r\n      <h1 class=\"type\">You have a {{accountType}}.</h1>\r\n      <h4 class=\"thanks\" v-if=\"isPremium\">Thanks for supporting Edward!</h4>\r\n    </div>\r\n    <hr v-if=\"isPremium\">\r\n    <div class=\"payment\" v-if=\"isPremium\">\r\n      <p v-if=\"!isOverdue && paymentDueDate\">Your next payment is due on {{paymentDueDate}}.</p>\r\n      <p class=\"error\" v-if=\"isOverdue\">\r\n        Your account is overdue. You cannot access the app until you downgrade to a Limited account or make a successful payment.\r\n      </p>\r\n      <p>\r\n        Click here to update your payment method.\r\n      </p>\r\n      <button @click=\"updatePayment()\">\r\n        Update Payment Method\r\n      </button>\r\n    </div>\r\n    <hr>\r\n    <div class=\"upgrade\">\r\n      <div v-if=\"isGold\">\r\n        <p class=\"above-small\">\r\n          Don't want your Gold account any more?\r\n        </p>\r\n        <p class=\"small\">\r\n          Please back up all of your documents first.\r\n        </p>\r\n        <button @click=\"goldToPremium()\">\r\n          Revert to Premium\r\n        </button>\r\n      </div>\r\n      <div v-if=\"!isPremium\">\r\n        <p class=\"above-small\">\r\n          Upgrade to a Premium account to access your novels from anywhere.\r\n        </p>\r\n        <p class=\"price\">($2.46 per month, up to 10,000 pages)</p>\r\n        <button class=\"button-green\" @click=\"limitedToPremium()\">\r\n          Go Premium\r\n        </button>\r\n      </div>\r\n      <div v-if=\"!isGold\">\r\n        <p class=\"above-small\">\r\n          Upgrade to a Gold account for extra Premium storage space.\r\n        </p>\r\n        <p class=\"price\">($10 per month, up to 125,000 pages)</p>\r\n        <button class=\"button-gold\" @click=\"toGold()\">\r\n          Go Gold\r\n        </button>\r\n      </div>\r\n      <div v-if=\"isPremium\">\r\n        <p class=\"above-small\">\r\n          Want to downgrade to a Limited account?\r\n        </p>\r\n        <p class=\"small\">\r\n          Please back up all of your documents first. They may not fit in your browser's storage.\r\n        </p>\r\n        <button @click=\"paidToLimited()\">\r\n          Revert to Limited\r\n        </button>\r\n      </div>\r\n      <div class=\"error\" v-if=\"error\">\r\n        There has been a critical error. <strong>Your account change was not successful.</strong>\r\n        Please try again or contact support at <a href=\"mailto:support@edwardtheapp.com\">support@edwardtheapp.com</a>.\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <div class=\"delete\">\r\n      <router-link to=\"/delete-account\">\r\n        <button class=\"button-link\">Delete my account</button>\r\n      </router-link>\r\n    </div>\r\n    <hr>\r\n    <div class=\"cancel\">\r\n      <pulse-loader v-if=\"saving\"></pulse-loader>\r\n      <button class=\"button-link\" @click=\"cancel()\" :disabled=\"saving\">\r\n        Go back to the app\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../app/api/api'\r\nimport authApi from './authApi'\r\nimport accountTypes from '../../models/accountType'\r\nimport iconSmall from '../../static/icon-small.png'\r\nimport { goToApp } from './shared'\r\nimport LocalStorageApi from '../app/api/localStorage'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\nimport swal from 'sweetalert'\r\nconst storage = new LocalStorageApi()\r\n\r\nconst accountPayments = {\r\n  [accountTypes.LIMITED.name]: { display: 'Edward Limited monthly subscription', amount: 0 },\r\n  [accountTypes.PREMIUM.name]: { display: 'Edward Premium monthly subscription', amount: 246 },\r\n  [accountTypes.GOLD.name]: { display: 'Edward Gold monthly subscription', amount: 1000 }\r\n}\r\n\r\nexport default {\r\n  created () {\r\n    if (!this.user || !this.user.accountType || this.user.accountType.name === accountTypes.DEMO.name) {\r\n      this.$router.push('/login')\r\n      return\r\n    }\r\n  },\r\n  components: {\r\n    PulseLoader\r\n  },\r\n  computed: {\r\n    accountType () {\r\n      return this.user.accountType.displayName\r\n    },\r\n    isGold () {\r\n      return this.user.accountType.name === 'GOLD'\r\n    },\r\n    isOverdue () {\r\n      return this.user.isOverdue\r\n    },\r\n    isPremium () {\r\n      return this.user.isPremium\r\n    },\r\n    paymentDueDate () {\r\n      return this.user.paymentDue ? new Date(this.user.paymentDue).toLocaleDateString() : null\r\n    },\r\n    user () {\r\n      const meta = this.$route.matched.find(record => record && record.meta.getCurrentUser).meta\r\n      return meta.getCurrentUser()\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      error: false,\r\n      payment: null,\r\n      saving: false\r\n    }\r\n  },\r\n  methods: {\r\n    cancel () {\r\n      goToApp()\r\n    },\r\n    limitedToPremium () {\r\n      this.payment.open({\r\n        email: this.user.email,\r\n        description: accountPayments.PREMIUM.display,\r\n        amount: accountPayments.PREMIUM.amount,\r\n        token: token => {\r\n          this.error = false\r\n          this.saving = true\r\n          authApi.upgrade({\r\n            oldAccountType: accountTypes.LIMITED.name,\r\n            newAccountType: accountTypes.PREMIUM.name,\r\n            token\r\n          }).then(() => {\r\n            return storage.getFullExport()\r\n          }).then(exported => {\r\n            return api.fullImport(exported)\r\n          }).then(() => {\r\n            this.error = false\r\n            this.saving = false\r\n            this.showSuccessPage()\r\n          }, err => {\r\n            console.error(err)\r\n            this.error = true\r\n            this.saving = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    limitedToGold () {\r\n      this.payment.open({\r\n        email: this.user.email,\r\n        description: accountPayments.GOLD.display,\r\n        amount: accountPayments.GOLD.amount,\r\n        token: token => {\r\n          this.error = false\r\n          this.saving = true\r\n          authApi.upgrade({\r\n            oldAccountType: accountTypes.LIMITED.name,\r\n            newAccountType: accountTypes.GOLD.name,\r\n            token\r\n          }).then(() => {\r\n            return storage.getFullExport()\r\n          }).then(exported => {\r\n            return api.fullImport(exported)\r\n          }).then(() => {\r\n            this.error = false\r\n            this.saving = false\r\n            this.showSuccessPage()\r\n          }, err => {\r\n            console.error(err)\r\n            this.error = true\r\n            this.saving = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    toGold () {\r\n      // We could be going from limited OR premium to gold\r\n      const userType = this.user.accountType.name\r\n      if (userType === accountTypes.LIMITED.name) {\r\n        return this.limitedToGold()\r\n      } else if (userType === accountTypes.PREMIUM.name) {\r\n        return this.premiumToGold()\r\n      }\r\n    },\r\n    premiumToGold () {\r\n      this.payment.open({\r\n        email: this.user.email,\r\n        description: accountPayments.GOLD.display,\r\n        amount: accountPayments.GOLD.amount,\r\n        token: token => {\r\n          this.error = false\r\n          this.saving = true\r\n          authApi.upgrade({\r\n            oldAccountType: accountTypes.PREMIUM.name,\r\n            newAccountType: accountTypes.GOLD.name,\r\n            token\r\n          }).then(() => {\r\n            this.error = false\r\n            this.saving = false\r\n            this.showSuccessPage()\r\n          }, err => {\r\n            console.error(err)\r\n            this.error = true\r\n            this.saving = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    paidToLimited () {\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: `Do you want to downgrade to a Limited account? You'll lose access to your documents on all other computers, and your data will be deleted if it exceeds the space your browser allows. Premium content (like workshops) will be lost.`,\r\n        title: 'Downgrade to Limited account?'\r\n      }).then((willDowngrade) => {\r\n        if (!willDowngrade) {\r\n          return\r\n        }\r\n\r\n        this.error = false\r\n        this.saving = true\r\n\r\n        api.fullExport().then(exported => {\r\n          return storage.doFullImport(exported)\r\n        }).then(() => {\r\n          return authApi.upgrade({\r\n            oldAccountType: this.user.accountType.name,\r\n            newAccountType: accountTypes.LIMITED.name\r\n          })\r\n        }).then(() => {\r\n          this.error = false\r\n          this.saving = false\r\n          this.showSuccessPage()\r\n        }, err => {\r\n          console.error(err)\r\n          this.error = true\r\n          this.saving = false\r\n        })\r\n      })\r\n    },\r\n    goldToPremium () {\r\n      this.payment.open({\r\n        email: this.user.email,\r\n        description: accountPayments.PREMIUM.display,\r\n        amount: accountPayments.PREMIUM.amount,\r\n        token: token => {\r\n          this.error = false\r\n          this.saving = true\r\n\r\n          authApi.upgrade({\r\n            oldAccountType: accountTypes.GOLD.name,\r\n            newAccountType: accountTypes.PREMIUM.name,\r\n            token\r\n          }).then(() => {\r\n            this.error = false\r\n            this.saving = false\r\n            this.showSuccessPage()\r\n          }, err => {\r\n            console.error(err)\r\n            this.error = true\r\n            this.saving = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    showSuccessPage () {\r\n      this.$router.push('/success')\r\n    },\r\n    updatePayment () {\r\n      const paymentData = accountPayments[this.user.accountType.name]\r\n\r\n      this.payment.open({\r\n        email: this.user.email,\r\n        description: paymentData.display,\r\n        amount: paymentData.amount,\r\n        token: token => {\r\n          this.error = false\r\n          this.saving = true\r\n\r\n          authApi.updatePayment({ token }).then(() => {\r\n            this.error = false\r\n            this.saving = false\r\n            this.showSuccessPage()\r\n          }, err => {\r\n            console.error(err)\r\n            this.error = true\r\n            this.saving = false\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.payment = window.StripeCheckout.configure({\r\n      key: window.stripePublicKey,\r\n      image: iconSmall,\r\n      color: 'white',\r\n      locale: 'auto',\r\n      name: 'Novelist LLC',\r\n      zipCode: true,\r\n      allowRememberMe: false\r\n    })\r\n  },\r\n  destroyed () {\r\n    this.payment.close()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nhr {\r\n  margin: 8px 0;\r\n  width: 100%;\r\n}\r\n\r\n.wrap {\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n}\r\n\r\n.account, .payment, .upgrade, .delete {\r\n  max-width: 1200px;\r\n  padding: 0 50px;\r\n  width: 100%;\r\n}\r\n\r\n.payment {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.upgrade {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.price {\r\n  font-size: 12px;\r\n  margin: 0 0 4px 0;\r\n}\r\n\r\n.above-small {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.small {\r\n  color: red;\r\n  font-size: 10px;\r\n  margin: 0 0 4px 0;\r\n}\r\n\r\n.cancel {\r\n  margin: 12px 0;\r\n  text-align: center;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  margin: 8px 0;\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"account\"},[_c('h1',{staticClass:\"type\"},[_vm._v(\"You have a \"+_vm._s(_vm.accountType)+\".\")]),_vm._v(\" \"),(_vm.isPremium)?_c('h4',{staticClass:\"thanks\"},[_vm._v(\"Thanks for supporting Edward!\")]):_vm._e()]),_vm._v(\" \"),(_vm.isPremium)?_c('hr'):_vm._e(),_vm._v(\" \"),(_vm.isPremium)?_c('div',{staticClass:\"payment\"},[(!_vm.isOverdue && _vm.paymentDueDate)?_c('p',[_vm._v(\"Your next payment is due on \"+_vm._s(_vm.paymentDueDate)+\".\")]):_vm._e(),_vm._v(\" \"),(_vm.isOverdue)?_c('p',{staticClass:\"error\"},[_vm._v(\"\\n      Your account is overdue. You cannot access the app until you downgrade to a Limited account or make a successful payment.\\n    \")]):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(\"\\n      Click here to update your payment method.\\n    \")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.updatePayment()}}},[_vm._v(\"\\n      Update Payment Method\\n    \")])]):_vm._e(),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"upgrade\"},[(_vm.isGold)?_c('div',[_c('p',{staticClass:\"above-small\"},[_vm._v(\"\\n        Don't want your Gold account any more?\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"small\"},[_vm._v(\"\\n        Please back up all of your documents first.\\n      \")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.goldToPremium()}}},[_vm._v(\"\\n        Revert to Premium\\n      \")])]):_vm._e(),_vm._v(\" \"),(!_vm.isPremium)?_c('div',[_c('p',{staticClass:\"above-small\"},[_vm._v(\"\\n        Upgrade to a Premium account to access your novels from anywhere.\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"price\"},[_vm._v(\"($2.46 per month, up to 10,000 pages)\")]),_vm._v(\" \"),_c('button',{staticClass:\"button-green\",on:{\"click\":function($event){_vm.limitedToPremium()}}},[_vm._v(\"\\n        Go Premium\\n      \")])]):_vm._e(),_vm._v(\" \"),(!_vm.isGold)?_c('div',[_c('p',{staticClass:\"above-small\"},[_vm._v(\"\\n        Upgrade to a Gold account for extra Premium storage space.\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"price\"},[_vm._v(\"($10 per month, up to 125,000 pages)\")]),_vm._v(\" \"),_c('button',{staticClass:\"button-gold\",on:{\"click\":function($event){_vm.toGold()}}},[_vm._v(\"\\n        Go Gold\\n      \")])]):_vm._e(),_vm._v(\" \"),(_vm.isPremium)?_c('div',[_c('p',{staticClass:\"above-small\"},[_vm._v(\"\\n        Want to downgrade to a Limited account?\\n      \")]),_vm._v(\" \"),_c('p',{staticClass:\"small\"},[_vm._v(\"\\n        Please back up all of your documents first. They may not fit in your browser's storage.\\n      \")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.paidToLimited()}}},[_vm._v(\"\\n        Revert to Limited\\n      \")])]):_vm._e(),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"error\"},[_vm._v(\"\\n      There has been a critical error. \"),_c('strong',[_vm._v(\"Your account change was not successful.\")]),_vm._v(\"\\n      Please try again or contact support at \"),_c('a',{attrs:{\"href\":\"mailto:support@edwardtheapp.com\"}},[_vm._v(\"support@edwardtheapp.com\")]),_vm._v(\".\\n    \")]):_vm._e()]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"delete\"},[_c('router-link',{attrs:{\"to\":\"/delete-account\"}},[_c('button',{staticClass:\"button-link\"},[_vm._v(\"Delete my account\")])])],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"cancel\"},[(_vm.saving)?_c('pulse-loader'):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"button-link\",attrs:{\"disabled\":_vm.saving},on:{\"click\":function($event){_vm.cancel()}}},[_vm._v(\"\\n      Go back to the app\\n    \")])],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import clone from 'lodash/clone'\r\nimport localForage from 'localforage'\r\nimport { orderPromises } from '../../../utilities'\r\nimport uniq from 'lodash/uniq'\r\n\r\nclass LocalStorageApi {\r\n  constructor () {\r\n    localForage.setDriver([localForage.INDEXEDDB, localForage.WEBSQL, localForage.LOCALSTORAGE])\r\n    this.storage = localForage\r\n    window._storage = this.storage\r\n    this.getStorageKeys = () => this.storage.keys()\r\n\r\n    this.planKeyPrefix = documentGuid => `${documentGuid}_PLAN_DATA_`\r\n    this.planOrderKey = documentGuid => `${documentGuid}_PLAN_ORDER`\r\n    this.getPlanKey = (documentGuid, planGuid) => `${this.planKeyPrefix(documentGuid)}${planGuid}`\r\n\r\n    this.sectionKeyPrefix = (documentGuid, planGuid) => `${documentGuid}_SECTION_DATA_${planGuid}_`\r\n    this.sectionOrderKey = (documentGuid, planGuid) => `${documentGuid}_SECTION_ORDER_${planGuid}`\r\n    this.getSectionKey = (documentGuid, planGuid, sectionGuid) => `${this.sectionKeyPrefix(documentGuid, planGuid)}${sectionGuid}`\r\n\r\n    this.chapterKeyPrefix = documentGuid => `${documentGuid}_CHAPTER_DATA_`\r\n    this.chapterOrderKey = documentGuid => `${documentGuid}_CHAPTER_ORDER`\r\n    this.getChapterKey = (documentGuid, chapterGuid) => `${this.chapterKeyPrefix(documentGuid)}${chapterGuid}`\r\n\r\n    this.topicKeyPrefix = documentGuid => `${documentGuid}_TOPIC_DATA_`\r\n    this.topicOrderKey = documentGuid => `${documentGuid}_TOPIC_ORDER`\r\n    this.getTopicKey = (documentGuid, topicGuid) => `${this.topicKeyPrefix(documentGuid)}${topicGuid}`\r\n\r\n    this.documentGuidsKey = 'DOCUMENT_IDS'\r\n    this.documentsKey = documentGuid => `DOCUMENT_${documentGuid}`\r\n  }\r\n\r\n  // INFO\r\n  isPremium () {\r\n    return false\r\n  }\r\n\r\n  addDocument ({ guid, name }) {\r\n    return this._getAllDocumentGuids().then(documentGuids => {\r\n      if (!documentGuids.includes(guid)) {\r\n        documentGuids.push(guid)\r\n        return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n      }\r\n    }).then(\r\n      () => this.storage.setItem(this.documentsKey(guid), { guid, name })\r\n    )\r\n  }\r\n\r\n  arrangeChapters (documentGuid, chapterGuids) {\r\n    return this.storage.setItem(this.chapterOrderKey(documentGuid), chapterGuids)\r\n  }\r\n\r\n  arrangePlans (documentGuid, planGuids) {\r\n    return this.storage.setItem(this.planOrderKey(documentGuid), planGuids)\r\n  }\r\n\r\n  arrangeSections (documentGuid, planGuid, sectionGuids) {\r\n    return this.storage.setItem(this.sectionOrderKey(documentGuid, planGuid), sectionGuids)\r\n  }\r\n\r\n  arrangeTopics (documentGuid, topicGuids) {\r\n    return this.storage.setItem(this.topicOrderKey(documentGuid), topicGuids)\r\n  }\r\n\r\n  deleteChapter (documentGuid, chapterGuid) {\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteDocument (guid) {\r\n    // Remove document from document list\r\n    return this._getAllDocumentGuids().then(documentGuids => {\r\n      if (documentGuids.includes(guid)) {\r\n        documentGuids.splice(documentGuids.indexOf(guid), 1)\r\n      }\r\n\r\n      return this.storage.setItem(this.documentGuidsKey, documentGuids)\r\n    }).then(() => {\r\n      // Remove all content (chapters, plans, sections, topics)\r\n      return Promise.all([\r\n        this._getAllChapters(guid).then(chapters =>\r\n          Promise.all(chapters.map(chapter => this.deleteChapter(guid, chapter.guid)))\r\n        ),\r\n        this._getAllPlans(guid).then(plans => {\r\n          return Promise.all(plans.map(plan => {\r\n            return this._getAllSections(guid, plan.guid).then(sections =>\r\n              Promise.all(sections.map(section => this.deleteSection(guid, plan.guid, section.guid)))\r\n            ).then(() => this.deletePlan(guid, plan.guid))\r\n          }))\r\n        }),\r\n        this._getAllTopics(guid).then(topics =>\r\n          Promise.all(topics.map(topic => this.deleteTopic(guid, topic.guid)))\r\n        )\r\n      ]).then(() => this.storage.removeItem(this.documentsKey(guid)))\r\n    })\r\n  }\r\n\r\n  deletePlan (documentGuid, planGuid) {\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteSection (documentGuid, planGuid, sectionGuid) {\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteTopic (documentGuid, topicGuid) {\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n    return this.storage.removeItem(key)\r\n  }\r\n\r\n  deleteWorkshop (documentGuid, workshopGuid) {\r\n    throw new Error('Workshops are a Premium-only feature.')\r\n  }\r\n\r\n  _getAllChapters (documentGuid) {\r\n    const prefix = this.chapterKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getChaptersSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix)))\r\n    ]).then(([sortOrder, keys]) => {\r\n      return Promise.all(keys.map(key => this.storage.getItem(key))).then(chapters => {\r\n        chapters.sort((chap1, chap2) => {\r\n          return sortOrder.indexOf(chap1.guid) - sortOrder.indexOf(chap2.guid)\r\n        })\r\n\r\n        return chapters\r\n      })\r\n    })\r\n  }\r\n\r\n  getAllChapters (documentGuid) {\r\n    return this._getAllChapters(documentGuid)\r\n  }\r\n\r\n  _getAllDocumentGuids () {\r\n    return this.storage.getItem(this.documentGuidsKey).then(guids => uniq(guids) || [])\r\n  }\r\n\r\n  _getAllDocuments () {\r\n    return this._getAllDocumentGuids().then(guids => Promise.all(guids.map(guid => {\r\n      const key = this.documentsKey(guid)\r\n      return this.storage.getItem(key)\r\n    })))\r\n  }\r\n\r\n  getAllDocuments () {\r\n    return this._getAllDocuments()\r\n  }\r\n\r\n  _getAllPlans (documentGuid) {\r\n    const prefix = this.planKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getPlansSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix)))\r\n    ]).then(([sortOrder, keys]) => {\r\n      return Promise.all(keys.map(key => this.storage.getItem(key))).then(plans => {\r\n        return Promise.all(plans.map(plan => {\r\n          return this._getAllSections(documentGuid, plan.guid).then(sections => {\r\n            plan.sections = sections\r\n          })\r\n        })).then(() => {\r\n          plans.sort((plan1, plan2) => {\r\n            return sortOrder.indexOf(plan1.guid) - sortOrder.indexOf(plan2.guid)\r\n          })\r\n          return plans\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  getAllPlans (documentGuid) {\r\n    return this._getAllPlans(documentGuid)\r\n  }\r\n\r\n  _getAllSections (documentGuid, planGuid) {\r\n    const prefix = this.sectionKeyPrefix(documentGuid, planGuid)\r\n\r\n    return Promise.all([\r\n      this._getSectionSortOrder(documentGuid, planGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix)))\r\n    ]).then(([sortOrder, keys]) => {\r\n      return Promise.all(keys.map(key => this.storage.getItem(key))).then(sections => {\r\n        sections.sort((section1, section2) => {\r\n          return sortOrder.indexOf(section1.guid) - sortOrder.indexOf(section2.guid)\r\n        })\r\n        return sections\r\n      })\r\n    })\r\n  }\r\n\r\n  _getAllTopics (documentGuid) {\r\n    const prefix = this.topicKeyPrefix(documentGuid)\r\n\r\n    return Promise.all([\r\n      this._getTopicsSortOrder(documentGuid),\r\n      this.getStorageKeys().then(keys => keys.filter(key => key.startsWith(prefix)))\r\n    ]).then(([sortOrder, keys]) => {\r\n      return Promise.all(keys.map(key => this.storage.getItem(key))).then(topics => {\r\n        topics.sort((topic1, topic2) => {\r\n          return sortOrder.indexOf(topic1.guid) - sortOrder.indexOf(topic2.guid)\r\n        })\r\n        return topics\r\n      })\r\n    })\r\n  }\r\n\r\n  getAllTopics (documentGuid) {\r\n    return this._getAllTopics(documentGuid)\r\n  }\r\n\r\n  _getChaptersSortOrder (documentGuid) {\r\n    return this.storage.getItem(this.chapterOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getPlansSortOrder (documentGuid) {\r\n    return this.storage.getItem(this.planOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getSectionSortOrder (documentGuid, planGuid) {\r\n    return this.storage.getItem(this.sectionOrderKey(documentGuid, planGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  _getTopicsSortOrder (documentGuid) {\r\n    return this.storage.getItem(this.topicOrderKey(documentGuid)).then(sortOrder => sortOrder || [])\r\n  }\r\n\r\n  getAllWorkshops () {\r\n    throw new Error('Workshops are a Premium-only feature.')\r\n  }\r\n\r\n  saveAllContent (documentGuid, { chapters, plans, topics }) {\r\n    const updateTopicFns = topics.map(topic => () => this.updateTopic(documentGuid, topic.guid, topic))\r\n    const updateTopicPromise = orderPromises(updateTopicFns)\r\n    const updateChapterPromise = updateTopicPromise.then(() => {\r\n      const updateChapterFns = chapters.map(chapter => () => this.updateChapter(documentGuid, chapter.guid, chapter))\r\n      return orderPromises(updateChapterFns)\r\n    })\r\n\r\n    const updatePlanFns = plans.map(\r\n      plan => () => this.updatePlan(documentGuid, plan.guid, plan).then(() => {\r\n        const updateSectionFns = plan.sections.map(section => () => this.updateSection(documentGuid, plan.guid, section.guid, section))\r\n        return orderPromises(updateSectionFns)\r\n      })\r\n    )\r\n    const updatePlanPromise = orderPromises(updatePlanFns)\r\n\r\n    return Promise.all([updateChapterPromise, updatePlanPromise])\r\n  }\r\n\r\n  updateChapter (documentGuid, chapterGuid, chapter) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getChapterKey(documentGuid, chapterGuid)\r\n    return Promise.all([\r\n      this.storage.setItem(key, chapter),\r\n      this._getChaptersSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(chapterGuid)) {\r\n          sortOrder.push(chapterGuid)\r\n          return this.arrangeChapters(documentGuid, sortOrder)\r\n        }\r\n      })\r\n    ])\r\n  }\r\n\r\n  updateDocument ({ guid, name }) {\r\n    return this.storage.setItem(this.documentsKey(guid), { guid, name })\r\n  }\r\n\r\n  updatePlan (documentGuid, planGuid, plan) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getPlanKey(documentGuid, planGuid)\r\n\r\n    plan = clone(plan)\r\n    plan.sections = null\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, plan),\r\n      this._getPlansSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(planGuid)) {\r\n          sortOrder.push(planGuid)\r\n          return this.arrangePlans(documentGuid, sortOrder)\r\n        }\r\n      })\r\n    ])\r\n  }\r\n\r\n  updateSection (documentGuid, planGuid, sectionGuid, section) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getSectionKey(documentGuid, planGuid, sectionGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, section),\r\n      this._getSectionSortOrder(documentGuid, planGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(sectionGuid)) {\r\n          sortOrder.push(sectionGuid)\r\n          return this.arrangeSections(documentGuid, sortOrder)\r\n        }\r\n      })\r\n    ])\r\n  }\r\n\r\n  updateTopic (documentGuid, topicGuid, topic) {\r\n    if (!documentGuid) {\r\n      return\r\n    }\r\n\r\n    const key = this.getTopicKey(documentGuid, topicGuid)\r\n\r\n    return Promise.all([\r\n      this.storage.setItem(key, topic),\r\n      this._getTopicsSortOrder(documentGuid).then((sortOrder = []) => {\r\n        if (!sortOrder.includes(topicGuid)) {\r\n          sortOrder.push(topicGuid)\r\n          return this.arrangeTopics(documentGuid, sortOrder)\r\n        }\r\n      })\r\n    ])\r\n  }\r\n\r\n  updateWorkshops (documentGuid, workshops) {\r\n    throw new Error('Workshops are a Premium-only feature.')\r\n  }\r\n\r\n  /*\r\n    FULL EXPORT / IMPORT\r\n  */\r\n\r\n  docExport (guid, name) {\r\n    return Promise.all([\r\n      this._getAllChapters(guid),\r\n      this._getAllTopics(guid),\r\n      this._getAllPlans(guid).then(plans => {\r\n        return Promise.all(plans.map(plan => {\r\n          return this._getAllSections(guid, plan.guid).then(sections => {\r\n            plan.sections = sections\r\n            return plan\r\n          })\r\n        }))\r\n      })\r\n    ]).then(([chapters, topics, plans]) => {\r\n      const doc = {\r\n        guid,\r\n        name,\r\n        chapters,\r\n        topics,\r\n        plans\r\n      }\r\n      return doc\r\n    })\r\n  }\r\n\r\n  docImport (doc) {\r\n    let backup\r\n    return this.docExport(doc.guid).then(_backup => {\r\n      backup = _backup\r\n    }).then(() => {\r\n      return this.deleteDocument(doc.guid)\r\n    }).then(() => {\r\n      if (!doc) {\r\n        throw new Error('Attempted to import an empty backup')\r\n      }\r\n\r\n      return this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc))\r\n    }).then(undefined, err => {\r\n      console.error(err)\r\n      return this.addDocument(backup).then(() => this.saveAllContent(backup.guid, backup))\r\n    })\r\n  }\r\n\r\n  getFullExport () {\r\n    return this._getAllDocuments().then(documents => {\r\n      return Promise.all(documents.map(doc => {\r\n        return Promise.all([\r\n          this._getAllChapters(doc.guid),\r\n          this._getAllTopics(doc.guid),\r\n          this._getAllPlans(doc.guid).then(plans => {\r\n            return Promise.all(plans.map(plan =>\r\n              this._getAllSections(doc.guid, plan.guid).then(sections => {\r\n                plan.sections = sections\r\n                return plan\r\n              })\r\n            ))\r\n          })\r\n        ]).then(([chapters, topics, plans]) => {\r\n          doc.chapters = chapters\r\n          doc.topics = topics\r\n          doc.plans = plans\r\n          return doc\r\n        })\r\n      }))\r\n    })\r\n  }\r\n\r\n  revertImport (backup) {\r\n    return (\r\n      Promise.all(Object.keys(backup).map(key => this.storage.setItem(key, backup[key])))\r\n        .then(undefined, importErr => {\r\n          console.error(importErr)\r\n          throw importErr\r\n        })\r\n    )\r\n  }\r\n\r\n  doFullImport (documents) {\r\n    const backup = {}\r\n\r\n    return this.storage.iterate((value, key) => {\r\n      backup[key] = value\r\n    }).then(() => {\r\n      return this.storage.clear().then(() => {\r\n        if (!documents || !Array.isArray(documents) || !documents.length) {\r\n          throw new Error('Attempted to import an empty backup')\r\n        }\r\n\r\n        const addDocumentPromises = documents.map(doc =>\r\n          () => this.addDocument(doc).then(() => this.saveAllContent(doc.guid, doc))\r\n        )\r\n\r\n        return orderPromises(addDocumentPromises)\r\n      })\r\n    }).then(undefined, err => {\r\n      console.error(err)\r\n      return this.revertImport(backup)\r\n    })\r\n  }\r\n}\r\n\r\nexport default LocalStorageApi\r\n","function orderPromises (promiseFns) {\r\n  if (!Array.isArray(promiseFns) || (promiseFns.length && typeof promiseFns[0] !== 'function')) {\r\n    throw new TypeError('orderPromises expects an array of functions. Received: ' + JSON.stringify(promiseFns))\r\n  }\r\n\r\n  if (!promiseFns.length) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  const promise = promiseFns[0]()\r\n\r\n  if (!promise.then) {\r\n    throw new TypeError('A function in the array passed to orderPromises did not return a promise. Returned: ' + JSON.stringify(promise))\r\n  }\r\n\r\n  return promise.then(function () {\r\n    return orderPromises(promiseFns.slice(1))\r\n  })\r\n}\r\n\r\nmodule.exports = {\r\n  orderPromises: orderPromises\r\n}\r\n","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9ad52e48\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./account.page.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./account.page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./account.page.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9ad52e48\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./account.page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9ad52e48\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import axios from 'axios'\r\n\r\nconst route = route => `/api/${route}`\r\n\r\nclass Api {\r\n  simpleGet (route) {\r\n    return axios.get(route).then(response => {\r\n      return response.data\r\n    })\r\n  }\r\n  simplePost (route, body) {\r\n    return axios.post(route, body).then(response => {\r\n      return response.data\r\n    })\r\n  }\r\n\r\n  saveAllContent (data) { return this.simplePost(route('document/saveAll'), data) }\r\n\r\n  // DOCUMENTS\r\n  addDocument (doc) { return this.simplePost(route('document/add'), doc) }\r\n  deleteDocument (doc) { return this.simplePost(route('document/delete'), doc) }\r\n  getDocuments () {\r\n    return this.simpleGet(route('documents')).then(documents => {\r\n      return documents.map(doc => {\r\n        return doc\r\n      })\r\n    })\r\n  }\r\n  updateDocument (doc) { return this.simplePost(route('document/update'), doc) }\r\n\r\n  // CHAPTERS\r\n  arrangeChapters (data) { return this.simplePost(route('chapter/arrange'), data) }\r\n  deleteChapter (data) { return this.simplePost(route('chapter/delete'), data) }\r\n  getChapters (documentGuid) { return this.simpleGet(route(`chapters/${documentGuid}`)) }\r\n  updateChapter (data) { return this.simplePost(route('chapter/update'), data) }\r\n\r\n  // TOPICS\r\n  arrangeTopics (data) { return this.simplePost(route('topic/arrange'), data) }\r\n  deleteTopic (data) { return this.simplePost(route('topic/delete'), data) }\r\n  // This returns MasterTopics; ChapterTopics are returned with their associated chapters\r\n  getTopics (documentGuid) { return this.simpleGet(route(`topics/${documentGuid}`)) }\r\n  updateTopic (data) { return this.simplePost(route('topic/update'), data) }\r\n\r\n  // PLANS\r\n  arrangePlans (data) { return this.simplePost(route('plan/arrange'), data) }\r\n  deletePlan (data) { return this.simplePost(route('plan/delete'), data) }\r\n  getPlans (documentGuid) { return this.simpleGet(route(`plans/${documentGuid}`)) }\r\n  updatePlan (data) { return this.simplePost(route('plan/update'), data) }\r\n\r\n  // SECTIONS\r\n  arrangeSections (data) { return this.simplePost(route('section/arrange'), data) }\r\n  deleteSection (data) { return this.simplePost(route('section/delete'), data) }\r\n  // No get method; sections are returned with their associated plans\r\n  updateSection (data) { return this.simplePost(route('section/update'), data) }\r\n\r\n  // WORKSHOPS\r\n  deleteWorkshopContent ({ documentGuid, guid }) {\r\n    return this.simplePost(route('workshop-content/delete'), { documentGuid, guid })\r\n  }\r\n  getWorkshops (documentGuid) { return this.simpleGet(route(`workshop-content/${documentGuid}`)) }\r\n  updateWorkshopContents ({ documentGuid, workshops }) {\r\n    return this.simplePost(route('workshop-content/update'), { documentGuid, workshops })\r\n  }\r\n\r\n  // EXPORT/IMPORT\r\n  docExport (documentGuid) { return this.simpleGet(route(`backup/export/document/${documentGuid}`)) }\r\n  docImport ({ guid, name, chapters, topics, plans, workshops }) {\r\n    return this.simplePost(route(`backup/import/document`), { guid, name, chapters, topics, plans, workshops })\r\n  }\r\n  fullExport () { return this.simpleGet(route('backup/export')) }\r\n  fullImport (data) { return this.simplePost(route('backup/import'), data) }\r\n}\r\n\r\nexport default new Api()\r\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}