(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1SLA":function(t,e,n){"use strict";n.r(e);var r=n("tXD0"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);var u=n("iMkk"),o=n("JFUb");var s=function(t){n("mLSX")},l=Object(o.a)(a.a,u.a,u.b,!1,s,"data-v-105f4076",null);e.default=l.exports},ZrAT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n("GQeE")),a=d(n("FyfS")),i=d(n("m1cH")),u=d(n("tCnl")),o=d(n("VXWU")),s=d(n("Rqpp")),l=d(n("eDNR")),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("VphZ")),f=n("fU7r");function d(t){return t&&t.__esModule?t:{default:t}}var p="\n  the a an\n  and but not or\n  I me we us you she her he him they them it\n  I've I'll I'd we've we'll we'd you've you'll you'd\n  she's she'll she'd he's he'll he'd they've they'll they'd\n  it's it'll it'd\n  I'm you're they're\n  myself ourself ourselves yourself yourselves\n  herself himself theirself theirselves themselves\n  my mine our ours your yours hers his their theirs its\n  to from of in for as with so at by on\n  be being is was were would will\n  do doing did done go going went\n  have having had\n  that those this these\n  not\n  what who which".split(/\s/).map(function(t){return t.toLowerCase()});e.default=function(t,e){var n,d=t.g,h=t.maxHeight,y=t.maxWidth,v=(n=[]).concat.apply(n,(0,i.default)(e.map(function(t){return(0,f.GetWordArray)(t.content).map(function(t){return t.toLowerCase()}).filter(function(t){return!p.includes(t)})}))),m=(0,u.default)((0,o.default)(function(t){return t}))(v),g=[],w=!0,_=!1,x=void 0;try{for(var b,A=(0,a.default)((0,r.default)(m));!(w=(b=A.next()).done);w=!0){var k=b.value;if(!m.hasOwnProperty(k))return;g.push({frequency:m[k].length,word:k})}}catch(t){_=!0,x=t}finally{try{!w&&A.return&&A.return()}finally{if(_)throw x}}var M=(0,u.default)((0,s.default)([function(t){return t.frequency}],["desc"]),(0,l.default)(10))(g);if(!M.length)throw new Error("No content was found.");var C=20,I=20,O=20,q=20,W=d.attr("transform","translate("+I+", "+O+")"),j=(h-C-O)/M.length,L=j-12,P=c.scaleLinear().domain([0,M[0].frequency]).rangeRound([0,y-I-q-50]),F=W.selectAll("g").data(M).enter().append("g");F.append("rect").attr("x","0").attr("y",6).attr("height",L).attr("width",function(t){return P(t.frequency)}).attr("fill","#90caf9"),F.attr("transform",function(t,e){return"translate(0, "+function(t){return t*j}(e)+")"}).append("text").text(function(t){return t.word}).attr("font-size","14").attr("x","5").attr("y",""+L),F.append("text").text(function(t){return t.frequency}).attr("font-size","14").attr("x",function(t){return P(t.frequency)+6}).attr("y",""+L)}},"a+4F":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("fU7r"),a=function(t){return t&&t.__esModule?t:{default:t}}(n("iq8G")),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("VphZ"));e.default=function(t,e){var n=t.el,u=(t.maxHeight,t.maxWidth,e.map(function(t){return(0,r.GetContentString)(t.content)}).join(" "));if(u.length<1500)throw new Error("You don't have enough content for the A.I. to work with. Write some more content in chapters and try again.");var o=new a.default(u).makeSentence({tries:50});n.innerHTML="";var s=i.select(n);s.append("p").append("strong").text("A.I. generated sentence:"),o instanceof Error?s.append("p").style("max-width","600px").append("em").text("Failed to generate unique text. Please try again. The more content in chapters you've written, the more often this will work."):s.append("p").style("max-width","600px").text(o)}},"cp+B":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n("FyfS")),a=c(n("m1cH")),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("VphZ")),u=c(n("GUC0")),o=c(n("a+4F")),s=c(n("ZrAT")),l=c(n("epi3"));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){t.innerHTML=""},d=function(t){var e=t.offsetWidth;return{g:i.select(t).append("svg").style("background-color","#FFF").attr("height",400).attr("width",e).append("g"),el:t,maxHeight:400,maxWidth:e}},p=function(t,e,n){try{t.apply(void 0,(0,a.default)(e))}catch(t){(0,u.default)({icon:"error",text:t}),n()}},h=[{description:'Find your top 10 most frequently used words (ignoring common English words like "the")',inputs:null,run:function(t,e){var n=e.chapters;f(t);var r=n.filter(function(t){return!t.archived&&!!t.content});p(s.default,[d(t),r],function(){return f(t)})},title:"Most common words"},{description:"Track your usage of a specific word in each chapter",inputs:["Word"],run:function(t,e,n){var a=e.chapters;if(function(t,e){var n=!0,a=!1,i=void 0;try{for(var o,s=(0,r.default)(t);!(n=(o=s.next()).done);n=!0)if(!e[o.value])return(0,u.default)({icon:"error",text:"Please fill in all required inputs."}),!1}catch(t){a=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return!0}(this.inputs,n)){f(t);var i=a.filter(function(t){return!t.archived&&!!t.content});p(l.default,[d(t),i,n],function(){return f(t)})}},title:"Word over time"},{description:"See a computer-generated sentence based on your work",inputs:null,run:function(t,e){var n=e.chapters;f(t);var r=n.filter(function(t){return!!t.content});p(o.default,[d(t),r],function(){return f(t)})},title:"A.I. ghostwriter"}].map(function(t){return t.args={},t});e.default=h},epi3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n("FyfS")),a=s(n("m1cH")),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("VphZ")),u=n("fU7r"),o=s(n("WjpJ"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){var s=t.g,l=t.maxWidth,c=t.maxHeight,f=n.Word,d=[],p=!0,h=!1,y=void 0;try{for(var v,m=(0,r.default)(e);!(p=(v=m.next()).done);p=!0){var g=v.value,w=(0,u.GetWordArray)(g.content).filter(function(t){return t.toLowerCase()===f.toLowerCase()}).length;d.push({frequency:w,title:g.title})}}catch(t){h=!0,y=t}finally{try{!p&&m.return&&m.return()}finally{if(h)throw y}}var _=d.map(function(t){return t.frequency}),x=[0,Math.max.apply(Math,(0,a.default)(_))],b=40,A=30,k=20,M=50,C=s.attr("transform","translate("+A+", "+k+")"),I=i.scaleLinear().domain([1,d.length]).rangeRound([0,l-A-M]),O=i.scaleLinear().domain(x).rangeRound([c-b-k,0]);C.append("g").attr("transform","translate(0, "+(c-b-k)+")").call(i.axisBottom(I).tickFormat(function(t){return function(t,e){return t.length<e?t:t.substring(0,e)+"..."}(d[t-1].title,20)}).tickValues((0,o.default)(1,d.length+1))).selectAll("text").attr("transform","rotate(-8)"),C.append("g").attr("transform","translate(0, 0)").call(i.axisLeft(O));var q=i.line().x(function(t,e){return I(e+1)}).y(function(t){return O(t.frequency)});C.append("path").datum(d).attr("fill","none").attr("stroke","#0d47a1").attr("stroke-linejoin","bevel").attr("stroke-linecap","round").attr("stroke-width","2").attr("d",q),C.append("rect").attr("x","5").attr("y","-9").attr("height","22").attr("width","67").attr("fill","rgba(230, 230, 230, 0.8)"),C.append("text").attr("font-size","12").attr("x","10").attr("y","5").text("Occurrences")}},iMkk:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"analyser-wrap"},[n("div",{staticClass:"analyser"},[n("div",{staticClass:"analyses"},[n("h4",{staticClass:"analysis-title"},[t._v("\n        Select an analysis:\n      ")]),t._v(" "),t._l(t.Analyses,function(e,r){return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:r,staticClass:"analysis-button",class:{"button-green":t.currentAnalysis===e},attrs:{title:e.description},on:{click:function(n){t.selectAnalysis(e)}}},[t._v("\n        "+t._s(e.title)+"\n      ")])})],2),t._v(" "),t.currentAnalysis?n("div",{staticClass:"analysis-inputs"},[t.showInputs?[n("h4",{staticClass:"analysis-title"},[t._v("\n          Enter desired inputs:\n        ")]),t._v(" "),t._l(t.currentAnalysis.inputs,function(e,r){return n("div",{key:r,staticClass:"analysis-input"},[n("label",{attrs:{for:t.getInputId(e)}},[t._v(t._s(e))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAnalysis.args[e],expression:"currentAnalysis.args[input]"}],attrs:{id:t.getInputId(e)},domProps:{value:t.currentAnalysis.args[e]},on:{input:function(n){n.target.composing||t.$set(t.currentAnalysis.args,e,n.target.value)}}})])})]:t._e(),t._v(" "),n("button",{staticClass:"analysis-button button-green",on:{click:function(e){t.runAnalysis(t.currentAnalysis)}}},[t._v("Run the analysis")])],2):t._e(),t._v(" "),n("div",{ref:"results",staticClass:"results"})])])},a=[]},mLSX:function(t,e){},tXD0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("cp+B")),a=i(n("76JW"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={computed:{document:function(){return this.$store.state.chapters},showInputs:function(){return this.currentAnalysis&&this.currentAnalysis.inputs&&this.currentAnalysis.inputs.length}},data:function(){return{Analyses:r.default,currentAnalysis:null}},directives:{tooltip:a.default},methods:{getInputId:function(t){return"input-"+t},runAnalysis:function(t){t.run(this.$refs.results,this.document,t.args)},selectAnalysis:function(t){this.currentAnalysis=t}}}}}]);
//# sourceMappingURL=analyser.fb25e522002e292de12f.js.map