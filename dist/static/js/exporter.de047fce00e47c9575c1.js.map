{"version":3,"sources":["webpack:///./src/app/exporter/pdf.js","webpack:///./src/app/exporter/exporter.page.vue?52e7","webpack:///src/app/exporter/exporter.page.vue","webpack:///./src/app/exporter/exporter.page.vue","webpack:///./src/app/exporter/json.js"],"names":["__webpack_require__","_utilities","pdfMake","vfs","pdfFonts","chaptersToPdf","title","chapters","_promise2","default","resolve","_definition$content","definition","content","text","style","styles","body","fontSize","bold","blockquote","margin","chapterHeading","h1","h2","h3","italic","italics","strike","decoration","underline","splitContent","getStyledArrayFromChapters","counter","forEach","includes","ul","ol","start","concat","apply","_toConsumableArray3","createPdf","getBlob","blob","window","_integration","_pdfSuccess","FileSaver","saveAs","d","__webpack_exports__","staticRenderFns","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_e","loading","directives","name","rawName","value","expression","attrs","id","type","domProps","checked","Array","isArray","pdfIncludeArchived","_i","on","change","$event","$$a","$$el","target","$$c","$$i","slice","for","click","exportPdfChapters","exportPdfPlans","exportPdfOutlines","exportPdfWorkshops","wordIncludeArchived","exportWordChapters","exportJsonDocument","accept","setFile","_json","_cache","_pdf","_document","_status","_storageSwitch","components","PulseLoader","_PulseLoader2","computed","allChapters","$store","state","allPlans","plans","allWorkshops","workshop","workshops","documentGuid","document","currentDocument","guid","documentTitle","isOnline","status","Statuses","OFFLINE","isPremium","user","masterTopics","topics","data","methods","importBackup","file","_this","backup","jsonFileToBackup","then","_backup","storageApiPromise","storage","docImport","resetCache","_sweetalert2","icon","dispatch","CHANGE_DOCUMENT","err","_this2","docExport","backupToJsonFile","_this3","chaptersToExport","filter","chapter","archived","_ref","_this4","nestedTopics","map","_keys2","topic","masterTopic","getMasterTopic","topicsArray","_ref2","_this5","nestedPlans","plan","sections","section","planArray","_this6","date","order","_writingWorkshop2","workshopName","displayName","toString","sortedWorkshops","_sortBy2","_this7","exportToWord","includeArchived","button","dangerMode","chapterTopic","find","event","_this8","buttons","willOverwrite","files","_node_modules_vue_loader_lib_runtime_component_normalizer__WEBPACK_IMPORTED_MODULE_2__","__vue_styles__","context","Component","Object","_babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_exporter_page_vue__WEBPACK_IMPORTED_MODULE_0___default","a","_node_modules_vue_loader_lib_template_compiler_index_id_data_v_0e1ad1c0_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_exporter_page_vue__WEBPACK_IMPORTED_MODULE_1__","json","_stringify2","Blob","today","Date","getDate","getMonth","getFullYear","reject","reader","FileReader","onload","result","JSON","parse","e","readAsText"],"mappings":"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","file":"static/js/exporter.de047fce00e47c9575c1.js","sourcesContent":["import pdfMake from 'pdfmake/build/pdfmake'\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts.js'\r\nimport FileSaver from 'file-saver'\r\nimport { getStyledArrayFromChapters } from '../../../utilities'\r\n\r\npdfMake.vfs = pdfFonts.pdfMake.vfs\r\n\r\nexport const chaptersToPdf = (title, chapters) => {\r\n  return new Promise((resolve) => {\r\n    const definition = {\r\n      content: [{\r\n        text: title,\r\n        style: 'title'\r\n      }],\r\n      styles: {\r\n        body: {\r\n          fontSize: 12\r\n        },\r\n        bold: {\r\n          bold: true\r\n        },\r\n        blockquote: {\r\n          margin: [10, 10, 0, 10]\r\n        },\r\n        chapterHeading: {\r\n          fontSize: 20,\r\n          margin: [5, 10]\r\n        },\r\n        h1: {\r\n          fontSize: 18\r\n        },\r\n        h2: {\r\n          fontSize: 16\r\n        },\r\n        h3: {\r\n          fontSize: 14\r\n        },\r\n        italic: {\r\n          italics: true\r\n        },\r\n        strike: {\r\n          decoration: 'lineThrough'\r\n        },\r\n        title: {\r\n          fontSize: 40\r\n        },\r\n        underline: {\r\n          decoration: 'underline'\r\n        }\r\n      }\r\n    }\r\n\r\n    const splitContent = getStyledArrayFromChapters(chapters)\r\n\r\n    let counter = 1\r\n    splitContent.forEach(content => {\r\n      if (content.style.includes('ul')) {\r\n        content.ul = [{ text: content.text }]\r\n        counter = 1\r\n        content.text = null\r\n      } else if (content.style.includes('ol')) {\r\n        content.ol = [{ text: content.text }]\r\n        content.start = counter++\r\n        content.text = null\r\n      } else {\r\n        counter = 1\r\n      }\r\n      return content\r\n    })\r\n\r\n    definition.content = definition.content.concat(...splitContent)\r\n\r\n    pdfMake.createPdf(definition).getBlob(blob => {\r\n      if (window && window._integration) {\r\n        window._pdfSuccess = true\r\n        return resolve()\r\n      }\r\n      FileSaver.saveAs(blob, `${title}.pdf`)\r\n      resolve()\r\n    })\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"exporter\"},[_c('div',{staticClass:\"export-option\"},[_c('h3',[_vm._v(\"Export to PDF\")]),_vm._v(\" \"),(_vm.loading)?_c('pulse-loader'):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"export-checkbox\"},[(!_vm.loading)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pdfIncludeArchived),expression:\"pdfIncludeArchived\"}],attrs:{\"id\":\"pdfIncludeArchived\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.pdfIncludeArchived)?_vm._i(_vm.pdfIncludeArchived,null)>-1:(_vm.pdfIncludeArchived)},on:{\"change\":function($event){var $$a=_vm.pdfIncludeArchived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.pdfIncludeArchived=$$a.concat([$$v]))}else{$$i>-1&&(_vm.pdfIncludeArchived=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.pdfIncludeArchived=$$c}}}}):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('label',{attrs:{\"for\":\"pdfIncludeArchived\"}},[_vm._v(\"Include Archived\")]):_vm._e()]),_vm._v(\" \"),(!_vm.loading)?[_c('button',{staticClass:\"button-green export-button\",on:{\"click\":function($event){_vm.exportPdfChapters()}}},[_vm._v(\"\\n          Export all chapters\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"button-green export-button\",on:{\"click\":function($event){_vm.exportPdfPlans()}}},[_vm._v(\"\\n          Export all plans\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"button-green export-button\",on:{\"click\":function($event){_vm.exportPdfOutlines()}}},[_vm._v(\"\\n          Export all outlines\\n        \")]),_vm._v(\" \"),(_vm.isPremium)?_c('button',{staticClass:\"button-green export-button\",on:{\"click\":function($event){_vm.exportPdfWorkshops()}}},[_vm._v(\"\\n          Export all workshops\\n        \")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"export-option\"},[_c('h3',[_vm._v(\"Export to Microsoft Word document\")]),_vm._v(\" \"),_c('div',[_vm._v(\"(Premium users only)\")]),_vm._v(\" \"),(_vm.loading)?_c('pulse-loader'):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"export-checkbox\"},[(!_vm.loading)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wordIncludeArchived),expression:\"wordIncludeArchived\"}],attrs:{\"id\":\"wordIncludeArchived\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.wordIncludeArchived)?_vm._i(_vm.wordIncludeArchived,null)>-1:(_vm.wordIncludeArchived)},on:{\"change\":function($event){var $$a=_vm.wordIncludeArchived,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.wordIncludeArchived=$$a.concat([$$v]))}else{$$i>-1&&(_vm.wordIncludeArchived=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.wordIncludeArchived=$$c}}}}):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('label',{attrs:{\"for\":\"wordIncludeArchived\"}},[_vm._v(\"Include Archived\")]):_vm._e()]),_vm._v(\" \"),(!_vm.loading)?[_c('button',{staticClass:\"button-green export-button\",on:{\"click\":function($event){_vm.exportWordChapters()}}},[_vm._v(\"\\n          Export all chapters\\n        \")])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"export-option\"},[_c('h3',[_vm._v(\"Create a backup\")]),_vm._v(\" \"),_c('div',[_vm._v(\"(You can recover your document from this file later.)\")]),_vm._v(\" \"),(_vm.loading)?_c('pulse-loader'):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('button',{staticClass:\"button-green export-button\",on:{\"click\":function($event){_vm.exportJsonDocument()}}},[_vm._v(\"\\n        Export entire document\\n      \")]):_vm._e()],1),_vm._v(\" \"),(_vm.isOnline)?_c('div',{staticClass:\"export-option\"},[_c('h3',[_vm._v(\"Import a backup\")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n        (Warning: This will overwrite the current document completely, including all chapters, plans, outlines and workshops.)\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"file-input-container\"},[(_vm.loading)?_c('pulse-loader'):_vm._e(),_vm._v(\" \"),(!_vm.loading)?[_c('label',{staticClass:\"file-input-label\",attrs:{\"for\":\"import-file-picker\"}}),_vm._v(\" \"),_c('input',{staticClass:\"file-input\",attrs:{\"id\":\"import-file-picker\",\"type\":\"file\",\"accept\":\".json\"},on:{\"change\":_vm.setFile}}),_vm._v(\" \"),_c('button',{staticClass:\"button-green export-button file-dummy-button\"},[_vm._v(\"\\n            Import entire document\\n          \")])]:_vm._e()],2)]):_vm._e()])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"exporter\">\r\n      <div class=\"export-option\">\r\n        <h3>Export to PDF</h3>\r\n        <pulse-loader v-if=\"loading\"></pulse-loader>\r\n        <div class=\"export-checkbox\">\r\n          <input id=\"pdfIncludeArchived\" v-if=\"!loading\" type=\"checkbox\" v-model=\"pdfIncludeArchived\">\r\n          <label for=\"pdfIncludeArchived\" v-if=\"!loading\">Include Archived</label>\r\n        </div>\r\n        <template v-if=\"!loading\">\r\n          <button class=\"button-green export-button\" @click=\"exportPdfChapters()\">\r\n            Export all chapters\r\n          </button>\r\n          <button class=\"button-green export-button\" @click=\"exportPdfPlans()\">\r\n            Export all plans\r\n          </button>\r\n          <button class=\"button-green export-button\" @click=\"exportPdfOutlines()\">\r\n            Export all outlines\r\n          </button>\r\n          <button v-if=\"isPremium\" class=\"button-green export-button\" @click=\"exportPdfWorkshops()\">\r\n            Export all workshops\r\n          </button>\r\n        </template>\r\n      </div>\r\n      <div class=\"export-option\">\r\n        <h3>Export to Microsoft Word document</h3>\r\n        <div>(Premium users only)</div>\r\n        <pulse-loader v-if=\"loading\"></pulse-loader>\r\n        <div class=\"export-checkbox\">\r\n          <input id=\"wordIncludeArchived\" v-if=\"!loading\" type=\"checkbox\" v-model=\"wordIncludeArchived\">\r\n          <label for=\"wordIncludeArchived\" v-if=\"!loading\">Include Archived</label>\r\n        </div>\r\n        <template v-if=\"!loading\">\r\n          <button class=\"button-green export-button\" @click=\"exportWordChapters()\">\r\n            Export all chapters\r\n          </button>\r\n        </template>\r\n      </div>\r\n      <div class=\"export-option\">\r\n        <h3>Create a backup</h3>\r\n        <div>(You can recover your document from this file later.)</div>\r\n        <pulse-loader v-if=\"loading\"></pulse-loader>\r\n        <button v-if=\"!loading\" class=\"button-green export-button\" @click=\"exportJsonDocument()\">\r\n          Export entire document\r\n        </button>\r\n      </div>\r\n      <div class=\"export-option\" v-if=\"isOnline\">\r\n        <h3>Import a backup</h3>\r\n        <div>\r\n          (Warning: This will overwrite the current document completely, including all chapters, plans, outlines and workshops.)\r\n        </div>\r\n        <div class=\"file-input-container\">\r\n          <pulse-loader v-if=\"loading\"></pulse-loader>\r\n          <template v-if=\"!loading\">\r\n            <label for=\"import-file-picker\" class=\"file-input-label\"></label>\r\n            <input id=\"import-file-picker\" class=\"file-input\" type=\"file\" accept=\".json\" @change=\"setFile\">\r\n            <button class=\"button-green export-button file-dummy-button\">\r\n              Import entire document\r\n            </button>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { backupToJsonFile, jsonFileToBackup } from './json'\r\nimport { resetCache } from '../shared/cache'\r\nimport { chaptersToPdf } from './pdf'\r\nimport { CHANGE_DOCUMENT } from '../shared/document.store'\r\nimport PulseLoader from 'vue-spinner/src/PulseLoader.vue'\r\nimport sortBy from 'lodash/sortBy'\r\nimport { Statuses } from '../shared/status.store'\r\nimport { storageApiPromise } from '../api/storageSwitch'\r\nimport swal from 'sweetalert'\r\nimport writingWorkshops from '../../../models/writingWorkshop'\r\n\r\nexport default {\r\n  components: {\r\n    PulseLoader\r\n  },\r\n  computed: {\r\n    allChapters () {\r\n      return this.$store.state.chapters.chapters\r\n    },\r\n    allPlans () {\r\n      return this.$store.state.chapters.plans\r\n    },\r\n    allWorkshops () {\r\n      return this.$store.state.workshop.workshops\r\n    },\r\n    documentGuid () {\r\n      return this.$store.state.document.currentDocument.guid\r\n    },\r\n    documentTitle () {\r\n      return this.$store.state.document.currentDocument.name\r\n    },\r\n    isOnline () {\r\n      return this.$store.state.status.status !== Statuses.OFFLINE\r\n    },\r\n    isPremium () {\r\n      return this.$store.state.user.user.isPremium\r\n    },\r\n    masterTopics () {\r\n      return this.$store.state.chapters.topics\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      pdfIncludeArchived: false,\r\n      loading: false,\r\n      wordIncludeArchived: false\r\n    }\r\n  },\r\n  methods: {\r\n    importBackup (file) {\r\n      this.loading = true\r\n      let backup\r\n      jsonFileToBackup(file).then(_backup => {\r\n        backup = _backup\r\n        backup.guid = this.documentGuid\r\n        backup.name = this.documentTitle\r\n\r\n        return storageApiPromise().then(storage => {\r\n          return storage.docImport(backup)\r\n        })\r\n      }).then(backup => {\r\n        this.loading = false\r\n        resetCache()\r\n\r\n        swal({\r\n          icon: 'success',\r\n          text: 'The document has been imported.',\r\n          title: 'Success'\r\n        }).then(() => {\r\n          return this.$store.dispatch(CHANGE_DOCUMENT,\r\n            { guid: this.documentGuid, name: this.documentTitle }\r\n          )\r\n        })\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not import the document. DETAILS: \"${err}\"`,\r\n          title: 'Failure'\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    exportJsonDocument () {\r\n      this.loading = true\r\n\r\n      storageApiPromise().then(storage => {\r\n        return storage.docExport(this.documentGuid, this.documentTitle)\r\n      }).then(backup => {\r\n        backupToJsonFile(this.documentTitle, backup).then(() => {\r\n          this.loading = false\r\n        }, err => {\r\n          this.loading = false\r\n          swal({\r\n            icon: 'error',\r\n            text: `Could not export the document. DETAILS: \"${err}\"`\r\n          })\r\n          throw err\r\n        })\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not export the document. DETAILS: \"${err}\"`\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    exportPdfChapters () {\r\n      this.loading = true\r\n\r\n      const chaptersToExport = this.allChapters.filter(chapter =>\r\n        !chapter.archived || this.pdfIncludeArchived\r\n      )\r\n\r\n      chaptersToPdf(this.documentTitle, chaptersToExport).then(() => {\r\n        this.loading = false\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not export the document. DETAILS: \"${err}\"`\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    exportPdfOutlines () {\r\n      this.loading = true\r\n\r\n      const nestedTopics = this.allChapters.filter(chapter =>\r\n        !chapter.archived || this.pdfIncludeArchived\r\n      ).map(chapter => {\r\n        const chapterTopics = Object.keys(chapter.topics).map(guid => {\r\n          const topic = chapter.topics[guid]\r\n          const masterTopic = this.getMasterTopic(topic)\r\n          topic.archived = masterTopic.archived\r\n          topic.title = `${chapter.title} - ${masterTopic.title}`\r\n          return topic\r\n        }).filter(topic =>\r\n          !topic.archived || this.pdfIncludeArchived\r\n        )\r\n\r\n        return chapterTopics\r\n      })\r\n\r\n      const topicsArray = [].concat(...nestedTopics)\r\n\r\n      chaptersToPdf(`${this.documentTitle}: Outlines`, topicsArray).then(() => {\r\n        this.loading = false\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not export outlines. DETAILS: \"${err}\"`\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    exportPdfPlans () {\r\n      this.loading = true\r\n      const nestedPlans = this.allPlans.filter(plan =>\r\n        !plan.archived || this.pdfIncludeArchived\r\n      ).map(plan => {\r\n        return plan.sections.filter(section =>\r\n          !section.archived || this.pdfIncludeArchived\r\n        ).map(section => {\r\n          const title = plan.title === section.title\r\n            ? plan.title\r\n            : `${plan.title} - ${section.title}`\r\n\r\n          return {\r\n            title,\r\n            content: section.content\r\n          }\r\n        })\r\n      })\r\n\r\n      const planArray = [].concat(...nestedPlans)\r\n\r\n      chaptersToPdf(`${this.documentTitle}: Plans`, planArray).then(() => {\r\n        this.loading = false\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not export plans. DETAILS: \"${err}\"`\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    exportPdfWorkshops () {\r\n      this.loading = true\r\n      const workshops = this.allWorkshops.filter(workshop =>\r\n        !workshop.archived || this.pdfIncludeArchived\r\n      ).map(workshop => {\r\n        return {\r\n          content: workshop.content,\r\n          date: workshop.date,\r\n          guid: workshop.guid,\r\n          order: workshop.order,\r\n          title: `${writingWorkshops[workshop.workshopName].displayName} (${workshop.date.toString()})`,\r\n          workshopName: workshop.workshopName\r\n        }\r\n      })\r\n\r\n      const sortedWorkshops = sortBy(workshops, workshop =>\r\n        `${workshop.workshopName}-${workshop.date.toString()}-${workshop.guid}-${workshop.order}`\r\n      )\r\n\r\n      chaptersToPdf(`${this.documentTitle}: Workshops`, sortedWorkshops).then(() => {\r\n        this.loading = false\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not export workshops. DETAILS: \"${err}\"`\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    exportWordChapters () {\r\n      if (!this.isPremium) {\r\n        swal({\r\n          button: 'OK',\r\n          dangerMode: true,\r\n          icon: 'error',\r\n          text: `Only Premium users can export to a Microsoft Word document. Please upgrade to a Premium subscription to continue.`,\r\n          title: 'Not allowed'\r\n        })\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n      storageApiPromise().then(storage => {\r\n        return storage.exportToWord({\r\n          guid: this.documentGuid,\r\n          title: this.documentTitle,\r\n          includeArchived: this.wordIncludeArchived\r\n        })\r\n      }).then(() => {\r\n        this.loading = false\r\n      }, err => {\r\n        this.loading = false\r\n        swal({\r\n          icon: 'error',\r\n          text: `Could not export to Word. DETAILS: \"${err}\"`\r\n        })\r\n        throw err\r\n      })\r\n    },\r\n    getMasterTopic (chapterTopic) {\r\n      return this.masterTopics.find(topic => topic.guid === chapterTopic.guid)\r\n    },\r\n    setFile (event) {\r\n      if (!this.isOnline) {\r\n        return\r\n      }\r\n\r\n      swal({\r\n        buttons: true,\r\n        dangerMode: true,\r\n        icon: 'warning',\r\n        text: `Are you sure you want to import this file? It will overwrite everything in the current document.`,\r\n        title: 'Overwrite current document?'\r\n      }).then(willOverwrite => {\r\n        if (!willOverwrite) {\r\n          return\r\n        }\r\n\r\n        this.importBackup(event.target.files[0])\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.exporter {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.export-option {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.export-checkbox {\r\n  margin-top: 8px;\r\n}\r\n\r\n.export-button {\r\n  margin: 10px 0;\r\n}\r\n\r\n.file-input-container {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  position: relative;\r\n}\r\n\r\n.file-input-label {\r\n  bottom: 0;\r\n  cursor: pointer;\r\n  left: 0;\r\n  opacity: 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n}\r\n\r\n.file-input {\r\n  border: none;\r\n  position: absolute;\r\n  visibility: hidden;\r\n}\r\n\r\n.file-dummy-button {\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e1ad1c0\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./exporter.page.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./exporter.page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./exporter.page.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e1ad1c0\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./exporter.page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e1ad1c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","import FileSaver from 'file-saver'\r\n\r\nexport const backupToJsonFile = (title, backup) => {\r\n  return new Promise((resolve) => {\r\n    const json = JSON.stringify(backup)\r\n    const blob = new Blob([json], { type: 'application/json' })\r\n    const today = new Date()\r\n    const date = `${today.getDate()}.${today.getMonth() + 1}.${today.getFullYear()}`\r\n\r\n    if (window && window._integration) {\r\n      window._pdfSuccess = true\r\n      return resolve()\r\n    }\r\n\r\n    FileSaver.saveAs(blob, `${title}--${date}.json`)\r\n    resolve()\r\n  })\r\n}\r\n\r\nexport const jsonFileToBackup = file => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader()\r\n\r\n    reader.onload = () => {\r\n      try {\r\n        const json = reader.result\r\n        resolve(JSON.parse(json))\r\n      } catch (e) {\r\n        reject(e)\r\n      }\r\n    }\r\n    reader.readAsText(file)\r\n  })\r\n}\r\n"],"sourceRoot":""}