{"version":3,"sources":["webpack:///./src/app/analyser/analyser.page.vue","webpack:///./src/app/analyser/analyser.page.vue?b1db","webpack:///./src/app/analyser/analyser.page.vue?66ae","webpack:///./src/app/analyser/commonWords.analysis.js","webpack:///./src/app/analyser/analyses.js","webpack:///./src/app/analyser/wordOverTime.analysis.js","webpack:///src/app/analyser/analyser.page.vue","webpack:///./src/app/analyser/analyser.page.vue?50b9"],"names":["_node_modules_vue_loader_lib_runtime_component_normalizer__WEBPACK_IMPORTED_MODULE_2__","__webpack_require__","__vue_styles__","context","Component","Object","_babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_analyser_page_vue__WEBPACK_IMPORTED_MODULE_0___default","a","_node_modules_vue_loader_lib_template_compiler_index_id_data_v_6c39893f_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_analyser_page_vue__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","d","staticRenderFns","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","analysis","index","directives","name","rawName","key","attrs","title","description","on","click","$event","selectAnalysis","_s","currentAnalysis","input","for","getInputId","value","args","expression","id","domProps","target","composing","$set","_e","runAnalysis","ref","module","exports","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","d3","_deltaParser","ignoredWords","split","map","str","toLowerCase","_ref","chapters","_ref2","svg","g","maxHeight","maxWidth","wordArray","concat","apply","_toConsumableArray3","default","chapter","GetWordArray","content","word","filter","includes","wordDict","_flow2","_groupBy2","frequencies","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","_getIterator3","_keys2","next","done","hasOwnProperty","frequency","length","err","return","orderedFrequencies","_orderBy2","obj","_take2","Error","margin","attr","barHeight","barInnerHeight","barPadding","x","scaleLinear","domain","rangeRound","bar","selectAll","data","enter","append","text","clearPrevious","el","innerHTML","makeSvg","offsetWidth","select","style","safelyRunAnalysis","analysisFn","onError","e","_sweetalert2","icon","all","inputs","run","resultsWindow","unarchivedChapters","archived","validateArgs","wordArg","Word","chapterResults","result","Math","max","y","call","axisBottom","tickFormat","substring","tickValues","_range2","axisLeft","line","datum","Analyses","_analyses2","tooltip","_tooltip2","locals","add"],"mappings":"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","file":"static/js/4.a214dc77850866780224.js","sourcesContent":["function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c39893f\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./analyser.page.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./analyser.page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./analyser.page.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c39893f\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./analyser.page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c39893f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"analyser-wrap\"},[_c('div',{staticClass:\"analyser\"},[_c('div',{staticClass:\"analyses\"},[_c('h4',{staticClass:\"analysis-title\"},[_vm._v(\"\\n        Select an analysis:\\n      \")]),_vm._v(\" \"),_vm._l((_vm.Analyses),function(analysis,index){return _c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],key:index,staticClass:\"analysis-button\",attrs:{\"title\":analysis.description},on:{\"click\":function($event){_vm.selectAnalysis(analysis)}}},[_vm._v(\"\\n        \"+_vm._s(analysis.title)+\"\\n      \")])})],2),_vm._v(\" \"),(_vm.currentAnalysis)?_c('div',{staticClass:\"analysis-inputs\"},[(_vm.showInputs)?[_c('h4',{staticClass:\"analysis-title\"},[_vm._v(\"\\n          Enter desired inputs:\\n        \")]),_vm._v(\" \"),_vm._l((_vm.currentAnalysis.inputs),function(input,index){return _c('div',{key:index,staticClass:\"analysis-input\"},[_c('label',{attrs:{\"for\":_vm.getInputId(input)}},[_vm._v(_vm._s(input))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentAnalysis.args[input]),expression:\"currentAnalysis.args[input]\"}],attrs:{\"id\":_vm.getInputId(input)},domProps:{\"value\":(_vm.currentAnalysis.args[input])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentAnalysis.args, input, $event.target.value)}}})])})]:_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"analysis-button button-green\",on:{\"click\":function($event){_vm.runAnalysis(_vm.currentAnalysis)}}},[_vm._v(\"Run the analysis\")])],2):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"results\",staticClass:\"results\"})])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".analyser-wrap[data-v-6c39893f]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.analyser[data-v-6c39893f]{display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:1050px}.analyses[data-v-6c39893f]{margin-bottom:10px}.analysis-button[data-v-6c39893f]{margin-right:6px;margin-top:12px}.results[data-v-6c39893f]{margin-top:12px}\", \"\", {\"version\":3,\"sources\":[\"C:/code/Edward-the-App/src/app/analyser/analyser.page.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,UAAY,CACb,AACD,2BACE,cAAe,AACf,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,gBAAkB,CACnB,AACD,2BACE,kBAAoB,CACrB,AACD,kCACE,iBAAkB,AAClB,eAAiB,CAClB,AACD,0BACE,eAAiB,CAClB\",\"file\":\"analyser.page.vue\",\"sourcesContent\":[\"\\n.analyser-wrap[data-v-6c39893f] {\\r\\n  display: -webkit-box;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -webkit-box-pack: center;\\r\\n      -ms-flex-pack: center;\\r\\n          justify-content: center;\\r\\n  width: 100%;\\n}\\n.analyser[data-v-6c39893f] {\\r\\n  display: block;\\r\\n  -webkit-box-flex: 1;\\r\\n      -ms-flex: 1;\\r\\n          flex: 1;\\r\\n  max-width: 1050px;\\n}\\n.analyses[data-v-6c39893f] {\\r\\n  margin-bottom: 10px;\\n}\\n.analysis-button[data-v-6c39893f] {\\r\\n  margin-right: 6px;\\r\\n  margin-top: 12px;\\n}\\n.results[data-v-6c39893f] {\\r\\n  margin-top: 12px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","import flow from 'lodash/fp/flow'\r\nimport groupBy from 'lodash/fp/groupBy'\r\nimport orderBy from 'lodash/fp/orderBy'\r\nimport take from 'lodash/fp/take'\r\nimport * as d3 from 'd3'\r\nimport { GetWordArray } from '../shared/deltaParser'\r\n\r\nconst ignoredWords = `\r\n  the a an\r\n  and but not or\r\n  I me we us you she her he him they them it\r\n  I've I'll I'd we've we'll we'd you've you'll you'd\r\n  she's she'll she'd he's he'll he'd they've they'll they'd\r\n  it's it'll it'd\r\n  I'm you're they're\r\n  myself ourself ourselves yourself yourselves\r\n  herself himself theirself theirselves themselves\r\n  my mine our ours your yours hers his their theirs its\r\n  to from of in for as with so at by on\r\n  be being is was were would will\r\n  do doing did done go going went\r\n  have having had\r\n  that those this these\r\n  not\r\n  what who which`\r\n  .split(/\\s/).map(str => str.toLowerCase())\r\n\r\nconst CommonWords = ({ g: svg, maxHeight, maxWidth }, chapters) => {\r\n  const wordArray = [].concat(...chapters.map(\r\n    chapter => GetWordArray(chapter.content)\r\n      .map(word => word.toLowerCase())\r\n      .filter(word => !ignoredWords.includes(word))\r\n  ))\r\n\r\n  const wordDict = flow(\r\n    groupBy(word => word)\r\n  )(wordArray)\r\n\r\n  const frequencies = []\r\n  for (var key of Object.keys(wordDict)) {\r\n    if (!wordDict.hasOwnProperty(key)) {\r\n      return\r\n    }\r\n\r\n    frequencies.push({\r\n      frequency: wordDict[key].length,\r\n      word: key\r\n    })\r\n  }\r\n\r\n  const orderedFrequencies = flow(\r\n    orderBy([obj => obj.frequency], ['desc']),\r\n    take(10)\r\n  )(frequencies)\r\n\r\n  if (!orderedFrequencies.length) {\r\n    throw new Error('No content was found.')\r\n  }\r\n\r\n  const margin = { bottom: 20, left: 20, top: 20, right: 20 }\r\n  const g = svg.attr('transform', `translate(${margin.left}, ${margin.top})`)\r\n\r\n  const barHeight = (maxHeight - margin.bottom - margin.top) / orderedFrequencies.length\r\n  const barPadding = 6\r\n  const barInnerHeight = barHeight - (barPadding * 2)\r\n  const barRightPad = 50\r\n\r\n  const x = d3.scaleLinear()\r\n  .domain([0, orderedFrequencies[0].frequency])\r\n  .rangeRound([0, maxWidth - margin.left - margin.right - barRightPad])\r\n\r\n  const y = index => index * barHeight\r\n\r\n  const bar = g.selectAll('g').data(orderedFrequencies).enter().append('g')\r\n\r\n  bar.append('rect')\r\n  .attr('x', '0').attr('y', barPadding)\r\n  .attr('height', barInnerHeight)\r\n  .attr('width', d => x(d.frequency))\r\n  .attr('fill', '#90caf9')\r\n\r\n  bar.attr('transform', (d, i) => `translate(0, ${y(i)})`)\r\n    .append('text')\r\n    .text(d => d.word)\r\n    .attr('font-size', '14')\r\n    .attr('x', '5').attr('y', `${barInnerHeight}`)\r\n\r\n  bar.append('text')\r\n    .text(d => d.frequency)\r\n    .attr('font-size', '14')\r\n    .attr('x', d => x(d.frequency) + 6).attr('y', `${barInnerHeight}`)\r\n}\r\n\r\nexport default CommonWords\r\n","/*\r\nAnalysis: {\r\n  description String,\r\n  inputs String[],\r\n  run (resultsWindow HTMLElement, document Delta, args Object),\r\n  title String\r\n}\r\n*/\r\n\r\nimport CommonWords from './commonWords.analysis'\r\nimport * as d3 from 'd3'\r\nimport swal from 'sweetalert'\r\nimport WordOverTime from './wordOverTime.analysis'\r\n\r\nconst clearPrevious = (el) => {\r\n  el.innerHTML = ''\r\n}\r\n\r\nconst makeSvg = (el) => {\r\n  const maxHeight = 400\r\n  const maxWidth = el.offsetWidth\r\n  const g = d3.select(el)\r\n    .append('svg')\r\n    .style('background-color', '#FFF')\r\n    .attr('height', maxHeight)\r\n    .attr('width', maxWidth)\r\n    .append('g')\r\n\r\n  return { g, maxHeight, maxWidth }\r\n}\r\n\r\nconst safelyRunAnalysis = (analysisFn, args, onError) => {\r\n  try {\r\n    analysisFn(...args)\r\n  } catch (e) {\r\n    swal({\r\n      icon: 'error',\r\n      text: e\r\n    })\r\n    onError()\r\n  }\r\n}\r\n\r\nconst validateArgs = (inputs, args) => {\r\n  for (const input of inputs) {\r\n    if (!args[input]) {\r\n      swal({\r\n        icon: 'error',\r\n        text: `Please fill in all required inputs.`\r\n      })\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nconst wordFrequency = {\r\n  description:\r\n    `Find your top 10 most frequently used words (ignoring common English words like \"the\")`,\r\n  inputs: null,\r\n  run (resultsWindow, { chapters }) {\r\n    clearPrevious(resultsWindow)\r\n\r\n    const unarchivedChapters = chapters.filter(chapter => !chapter.archived && !!chapter.content)\r\n\r\n    safelyRunAnalysis(\r\n      CommonWords,\r\n      [makeSvg(resultsWindow), unarchivedChapters],\r\n      () => clearPrevious(resultsWindow)\r\n    )\r\n  },\r\n  title: 'Most common words'\r\n}\r\n\r\nconst wordOverTime = {\r\n  description: 'Track your usage of a specific word in each chapter',\r\n  inputs: ['Word'],\r\n  run (resultsWindow, { chapters }, args) {\r\n    if (!validateArgs(this.inputs, args)) {\r\n      return\r\n    }\r\n    clearPrevious(resultsWindow)\r\n\r\n    const unarchivedChapters = chapters.filter(chapter => !chapter.archived && !!chapter.content)\r\n\r\n    safelyRunAnalysis(\r\n      WordOverTime,\r\n      [makeSvg(resultsWindow), unarchivedChapters, args],\r\n      () => clearPrevious(resultsWindow)\r\n    )\r\n  },\r\n  title: 'Word over time'\r\n}\r\n\r\nconst all = [\r\n  wordFrequency,\r\n  wordOverTime\r\n].map(analysis => {\r\n  analysis.args = {}\r\n  return analysis\r\n})\r\n\r\nexport default all\r\n","import * as d3 from 'd3'\r\nimport { GetWordArray } from '../shared/deltaParser'\r\nimport range from 'lodash/range'\r\n\r\nconst WordOverTime = ({ g: svg, maxWidth, maxHeight }, chapters, { Word: wordArg }) => {\r\n  const chapterResults = []\r\n\r\n  for (const chapter of chapters) {\r\n    const words = GetWordArray(chapter.content)\r\n    const frequency = words.filter(word => word.toLowerCase() === wordArg.toLowerCase()).length\r\n    chapterResults.push({\r\n      frequency,\r\n      title: chapter.title\r\n    })\r\n  }\r\n\r\n  const frequencies = chapterResults.map(result => result.frequency)\r\n\r\n  const domain = [0, Math.max(...frequencies)]\r\n  const margin = { bottom: 40, left: 30, top: 20, right: 50 }\r\n\r\n  // Create svg and g and position with a margin\r\n  const g = svg.attr('transform', `translate(${margin.left}, ${margin.top})`)\r\n\r\n  const x = d3.scaleLinear()\r\n    .domain([1, chapterResults.length])\r\n    .rangeRound([0, maxWidth - margin.left - margin.right])\r\n\r\n  const y = d3.scaleLinear()\r\n    .domain(domain)\r\n    .rangeRound([maxHeight - margin.bottom - margin.top, 0])\r\n\r\n  g.append('g')\r\n    .attr('transform', `translate(0, ${maxHeight - margin.bottom - margin.top})`)\r\n    .call(\r\n      d3.axisBottom(x)\r\n        .tickFormat(i => truncate(chapterResults[i - 1].title, 20))\r\n        .tickValues(range(1, chapterResults.length + 1))\r\n    )\r\n    .selectAll('text')\r\n    .attr('transform', 'rotate(-8)')\r\n\r\n  g.append('g')\r\n    .attr('transform', `translate(0, 0)`)\r\n    .call(d3.axisLeft(y))\r\n\r\n  const line = d3.line()\r\n    .x((d, index) => x(index + 1))\r\n    .y(d => y(d.frequency))\r\n\r\n  g.append('path')\r\n    .datum(chapterResults)\r\n    .attr('fill', 'none')\r\n    .attr('stroke', '#0d47a1')\r\n    .attr('stroke-linejoin', 'bevel')\r\n    .attr('stroke-linecap', 'round')\r\n    .attr('stroke-width', '2')\r\n    .attr('d', line)\r\n\r\n  g.append('rect')\r\n    .attr('x', '5').attr('y', '-9')\r\n    .attr('height', '22')\r\n    .attr('width', '67')\r\n    .attr('fill', 'rgba(230, 230, 230, 0.8)')\r\n\r\n  g.append('text')\r\n    .attr('font-size', '12')\r\n    .attr('x', '10')\r\n    .attr('y', '5')\r\n    .text('Occurrences')\r\n}\r\n\r\nfunction truncate (str, length) {\r\n  if (str.length < length) {\r\n    return str\r\n  }\r\n\r\n  return `${str.substring(0, length)}...`\r\n}\r\n\r\nexport default WordOverTime\r\n","<template>\r\n  <div class=\"analyser-wrap\">\r\n    <div class=\"analyser\">\r\n      <div class=\"analyses\">\r\n        <h4 class=\"analysis-title\">\r\n          Select an analysis:\r\n        </h4>\r\n        <button class=\"analysis-button\" v-for=\"(analysis, index) in Analyses\" :key=\"index\"\r\n                @click=\"selectAnalysis(analysis)\" :title=\"analysis.description\" v-tooltip>\r\n          {{ analysis.title }}\r\n        </button>\r\n      </div>\r\n      <div class=\"analysis-inputs\" v-if=\"currentAnalysis\">\r\n        <template v-if=\"showInputs\">\r\n          <h4 class=\"analysis-title\">\r\n            Enter desired inputs:\r\n          </h4>\r\n          <div class=\"analysis-input\" v-for=\"(input, index) in currentAnalysis.inputs\" :key=\"index\">\r\n            <label :for=\"getInputId(input)\">{{ input }}</label>\r\n            <input :id=\"getInputId(input)\" v-model=\"currentAnalysis.args[input]\">\r\n          </div>\r\n        </template>\r\n        <button class=\"analysis-button button-green\" @click=\"runAnalysis(currentAnalysis)\">Run the analysis</button>\r\n      </div>\r\n      <div class=\"results\" ref=\"results\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Analyses from './analyses'\r\nimport tooltip from '../shared/tooltip.directive'\r\n\r\nexport default {\r\n  computed: {\r\n    document () {\r\n      return this.$store.state.chapters\r\n    },\r\n    showInputs () {\r\n      return (this.currentAnalysis &&\r\n             this.currentAnalysis.inputs &&\r\n             this.currentAnalysis.inputs.length)\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      Analyses,\r\n      currentAnalysis: null\r\n    }\r\n  },\r\n  directives: {\r\n    tooltip\r\n  },\r\n  methods: {\r\n    getInputId (input) {\r\n      return `input-${input}`\r\n    },\r\n    runAnalysis (analysis) {\r\n      analysis.run(this.$refs.results, this.document, analysis.args)\r\n    },\r\n    selectAnalysis (analysis) {\r\n      this.currentAnalysis = analysis\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.analyser-wrap {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.analyser {\r\n  display: block;\r\n  flex: 1;\r\n  max-width: 1050px;\r\n}\r\n\r\n.analyses {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.analysis-button {\r\n  margin-right: 6px;\r\n  margin-top: 12px;\r\n}\r\n\r\n.results {\r\n  margin-top: 12px;\r\n}\r\n</style>\r\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c39893f\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./analyser.page.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"03de765f\", content, true, {});"],"sourceRoot":""}